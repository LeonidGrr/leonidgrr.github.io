{"version":3,"sources":["webpack:///./components/Explore/Explore.module.css","webpack:///./routes/home/index.tsx","webpack:///./components/Header/index.tsx","webpack:///./components/Header/Header.module.css","webpack:///./components/Explore/index.tsx"],"names":["titleMap","name","header","desc","sub","screen","windows","Home","useContext","Context3D","currentCamera","changeCamera","loader","onChangeCamera","Header","props","className","css","Explore","useState","showContent","setShowContent","showDescription","setShowDescription","contentRef","useRef","handleCamera","e","stopPropagation","key","currentTarget","dataset","current","offsetWidth","document","body","clientWidth","useEffect","handleHideDescription","useCallback","explore","type","onClick","prev","ref","classNames","content","contentShow","scenes","Object","keys","map","onPointerDown","links","href","description","descriptionShow","dangerouslySetInnerHTML","__html","title","closeButton"],"mappings":"yFACe,KAAC,QAAU,iBAAiB,kBAAoB,2BAA2B,oBAAoB,2BAA2B,gBAAkB,yBAAyB,QAAU,iBAAiB,YAAc,qBAAqB,OAAS,gBAAgB,YAAc,qBAAqB,gBAAkB,yBAAyB,YAAc,uB,kCCCvW,yEAeMA,EAAmB,CACrBC,KAAM,cACNC,OAAQ,cACXC,KAAM,kKACHC,IAAK,CACDC,OAAQ,CACbJ,KAAM,iCACNE,KAAM,+DAEDG,QAAS,CACdL,KAAM,mBACNE,KAAM,iNAqBMI,UAhBgC,WAC9C,MAAgDC,YAAWC,KAAnDC,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,aAAcC,EAArC,EAAqCA,OAErC,OACC,SACC,EAAC,IAAD,CAAQV,OAAQF,EAASE,SACzB,EAAC,IAAD,CACCQ,cAAeA,EACfG,eAAgBF,EAChBX,SAAUA,IAEVY,K,8EC5CJ,4BAeeE,IATA,SAACC,GAEZ,OACI,YAAQC,UAAWC,IAAIf,QACnB,YAHWa,EAAXb,Y,wDCNG,KAAC,OAAS,gBAAgB,kBAAoB,2BAA2B,gBAAkB,2B,kjCCoG3FgB,IApFC,SAACH,GACb,IACIF,EAGAE,EAHAF,eACAH,EAEAK,EAFAL,cACAV,EACAe,EADAf,SAEJ,IAAsCmB,aAAS,GAA/C,GAAOC,EAAP,KAAoBC,EAApB,KACA,IAA8CF,YAAwB,MAAtE,GAAOG,EAAP,KAAwBC,EAAxB,KAEMC,EAAaC,YAA8B,MAQ3CC,EAAe,SAACC,GAClBA,EAAEC,kBACF,IAAQC,EAAQF,EAAEG,cAAcC,QAAxBF,IACJA,GAAOnB,IAAkBmB,IACzBhB,EAAegB,GAVfL,EAAWQ,SACJR,EAAWQ,QAAQC,aAAeC,SAASC,KAAKC,YAAc,GAWjEf,GAAe,KAU3BgB,aAAU,WAAM,MACZd,GAAmB,UAAAvB,EAASI,IAAIM,UAAb,eAA6BP,OAAQH,EAASG,QAClE,CAACO,IAEJ,IAAM4B,EAAwBC,aAAY,WACtChB,EAAmB,QACpB,IAEH,OACI,SACI,SACI,aAAW,eACXP,UAAWC,IAAIuB,SAEf,SAAKxB,UAAWC,IAAI,uBACpB,YAAQwB,KAAK,SAASC,QApBR,SAACf,GACvBA,EAAEC,kBACFP,GAAe,SAAAsB,GAAI,OAAKA,OAkBhB,iBAIJ,SACI,aAAW,mBACXC,IAAKpB,EACLR,UAAW6B,IAAW5B,IAAI6B,QAAS1B,GAAeH,IAAI8B,cAEtD,QAAI/B,UAAWC,IAAI+B,QACdC,OAAOC,KAAKlD,EAASI,KAAK+C,KAAI,SAACtB,GAAD,OAC3B,QAAIA,IAAKA,GACL,YACI,WAAUA,EACVY,KAAK,SACLW,cAAe1B,GAEd1B,EAASI,IAAIyB,GAAK5B,UAI/B,QAAIe,UAAWC,IAAIoC,OACf,OAAGC,KAAK,oDAAR,aAMZ,SAAKtC,UAAW6B,IAAW5B,IAAIsC,YAAajC,GAAmBL,IAAIuC,kBAC/D,UAAM,aAAW,cAAcC,wBAAyB,CAAEC,OAAQpC,GAAmB,MACrF,YAAQqC,MAAM,QAAQ3C,UAAWC,IAAI2C,YAAalB,QAASJ,GAA3D,U","file":"route-home.chunk.5ce0f.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"explore\":\"explore__sC0To\",\"opacity_animation\":\"opacity_animation__cfcuz\",\"explore-separator\":\"explore-separator__YKfQ6\",\"width_animation\":\"width_animation__HFgqT\",\"content\":\"content__riTMf\",\"description\":\"description__rbxxy\",\"scenes\":\"scenes__zIShF\",\"contentShow\":\"contentShow__ddXxi\",\"descriptionShow\":\"descriptionShow__28FTC\",\"closeButton\":\"closeButton__nPq+M\"};","import { FunctionComponent } from 'preact';\nimport { RoutableProps } from 'preact-router';\nimport { useContext } from 'preact/hooks';\nimport { Context3D } from '../../components/Context3D';\nimport Explore from '../../components/Explore';\nimport Header from '../../components/Header';\n\nexport type Config = {\n    name: string\n    header: string\n    desc: string\n    sub: Record<string, {\n\t\tname: string\n\t\tdesc: string\n\t}>\n};\n\nconst titleMap: Config = {\n    name: 'My dev lair',\n    header: 'my dev lair',\n\tdesc: `Hello! My name is Leonid. I am just humble programmer trying to learn something in a spare time.\\n This is little demo page. Feel free to tap and click around.`,\n    sub: {\n        screen: {\n\t\t\tname: 'Screen - ThreeJS render target',\n\t\t\tdesc: 'For now this is just an example of THREEJS render target...',\n\t\t},\n        windows: {\n\t\t\tname: 'Raindrops shader',\n\t\t\tdesc: 'I like rain.\\n To program this raindrops I used ThreeJS ShaderMaterial and custom fragment shader, partially based on <a href=\"https://www.shadertoy.com/view/ltffzl\">beautiful shadertoy by Heartfelt</a>.',\n\t\t},\n    },\n};\n\nconst Home: FunctionComponent<RoutableProps> = () => {\n\tconst { currentCamera, changeCamera, loader } = useContext(Context3D);\n\n\treturn (\n\t\t<>\n\t\t\t<Header header={titleMap.header} />\n\t\t\t<Explore\n\t\t\t\tcurrentCamera={currentCamera}\n\t\t\t\tonChangeCamera={changeCamera}\n\t\t\t\ttitleMap={titleMap}\n\t\t\t/>\n\t\t\t{loader}\n\t\t</>\n\t);\n};\n\nexport default Home;\n","import css from './Header.module.css';\n\ntype HeaderProps = {\n    header: string,\n};\n\nconst Header = (props: HeaderProps) => {\n    const { header } = props;\n    return (\n        <header className={css.header}>\n            <h1>{header}</h1>\n        </header>\n    );\n};\n\nexport default Header;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header__pBWgD\",\"opacity_animation\":\"opacity_animation__piEyb\",\"width_animation\":\"width_animation__rwi1z\"};","import {\n    useState,\n    useEffect,\n    useRef,\n    useCallback,\n} from 'preact/hooks';\nimport classNames from 'classnames';\nimport css from './Explore.module.css';\nimport { Config } from 'src/routes/home';\nimport { CameraState } from '../3D/components/CameraManager';\n\ntype ExplorePanelProps = {\n    onChangeCamera: (key: CameraState) => void,\n    currentCamera: CameraState,\n    titleMap: Config,\n}\n\nconst Explore = (props: ExplorePanelProps) => {\n    const {\n        onChangeCamera,\n        currentCamera,\n        titleMap,\n    } = props;\n    const [showContent, setShowContent] = useState(false);\n    const [showDescription, setShowDescription] = useState<string | null>(null);\n\n    const contentRef = useRef<null | HTMLDivElement>(null);\n    const isSmallScreen = () => {\n        if (contentRef.current) {\n            return contentRef.current.offsetWidth >= document.body.clientWidth / 2;\n        }\n        return false;\n    };\n\n    const handleCamera = (e: any) => {\n        e.stopPropagation();\n        const { key } = e.currentTarget.dataset;\n        if (key && currentCamera !== key) {\n            onChangeCamera(key);\n            if (isSmallScreen()) {\n                setShowContent(false);\n            }\n        }\n    };\n\n    const handleShowContent = (e: any) => {\n        e.stopPropagation();\n        setShowContent(prev => !prev);\n    };\n\n    useEffect(() => {\n        setShowDescription(titleMap.sub[currentCamera]?.desc || titleMap.desc);\n    }, [currentCamera]);\n\n    const handleHideDescription = useCallback((e: Event) => {\n        setShowDescription(null);\n    }, []);\n\n    return (\n        <>\n            <div\n                aria-label=\"Explore more\"\n                className={css.explore}\n            >\n                <div className={css['explore-separator']} />\n                <button type=\"button\" onClick={handleShowContent}>\n                    Explore more\n                </button>\n            </div>\n            <div\n                aria-label=\"Table of content\"\n                ref={contentRef}\n                className={classNames(css.content, showContent && css.contentShow)}\n            >\n                <ul className={css.scenes}>\n                    {Object.keys(titleMap.sub).map((key: string) => (\n                        <li key={key}>\n                            <button\n                                data-key={key}\n                                type=\"button\"\n                                onPointerDown={handleCamera}\n                            >\n                                {titleMap.sub[key].name}\n                            </button>\n                        </li>\n                    ))}\n                    <li className={css.links}>\n                        <a href=\"https://github.com/LeonidGrr/leonidgrr.github.io\">\n                            GitHub\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <div className={classNames(css.description, showDescription && css.descriptionShow)} > \n                <span aria-label=\"Description\" dangerouslySetInnerHTML={{ __html: showDescription || '' }} />\n                <button title=\"Close\" className={css.closeButton} onClick={handleHideDescription}>&#10799;</button>\n            </div>\n        </>\n    );\n};\n\nexport default Explore;"],"sourceRoot":""}