{"version":3,"sources":["webpack://leonidgrr.github.io/webpack/runtime/chunk loaded","webpack://leonidgrr.github.io/./src/3D/components/Tooltip/index.scss","webpack://leonidgrr.github.io/./src/GUI/Explore/index.scss","webpack://leonidgrr.github.io/./src/GUI/Header/index.scss","webpack://leonidgrr.github.io/./src/GUI/Loader/index.scss","webpack://leonidgrr.github.io/./src/GUI/NoWebGL/index.scss","webpack://leonidgrr.github.io/./src/GUI/index.scss","webpack://leonidgrr.github.io/./src/GUI/Header/index.scss?a47b","webpack://leonidgrr.github.io/./src/GUI/Header/index.tsx","webpack://leonidgrr.github.io/./src/GUI/Explore/index.scss?2ec0","webpack://leonidgrr.github.io/./src/GUI/Explore/index.tsx","webpack://leonidgrr.github.io/./src/GUI/Loader/index.scss?ed97","webpack://leonidgrr.github.io/./src/GUI/Loader/index.tsx","webpack://leonidgrr.github.io/./src/GUI/NoWebGL/index.scss?0bf2","webpack://leonidgrr.github.io/./src/GUI/NoWebGL/index.tsx","webpack://leonidgrr.github.io/./src/3D/components/TextLight.ts","webpack://leonidgrr.github.io/./src/3D/components/CameraManager.ts","webpack://leonidgrr.github.io/./src/3D/components/Coffee.ts","webpack://leonidgrr.github.io/./src/3D/components/Tooltip/index.scss?b176","webpack://leonidgrr.github.io/./src/3D/components/Tooltip/index.ts","webpack://leonidgrr.github.io/./src/3D/components/Keyboard/keycodeMap.ts","webpack://leonidgrr.github.io/./src/3D/components/Keyboard/index.ts","webpack://leonidgrr.github.io/./src/3D/components/Lamp/index.ts","webpack://leonidgrr.github.io/./src/3D/components/Screen/renderTarget.ts","webpack://leonidgrr.github.io/./src/3D/components/Screen/index.ts","webpack://leonidgrr.github.io/./src/3D/components/Desktop.ts","webpack://leonidgrr.github.io/./src/3D/components/Rain.ts","webpack://leonidgrr.github.io/./src/3D/components/Trees/index.ts","webpack://leonidgrr.github.io/./src/3D/components/Windows.ts","webpack://leonidgrr.github.io/./src/3D/components/RenderingManager.ts","webpack://leonidgrr.github.io/./src/3D/postprocessing.ts","webpack://leonidgrr.github.io/./src/3D/index.ts","webpack://leonidgrr.github.io/./src/GUI/index.scss?aa99","webpack://leonidgrr.github.io/./src/GUI/index.tsx","webpack://leonidgrr.github.io/./src/index.tsx","webpack://leonidgrr.github.io/./src/3D/shaders/venusian-frag.glsl","webpack://leonidgrr.github.io/./src/3D/shaders/venusian-vert.glsl","webpack://leonidgrr.github.io/webpack/bootstrap","webpack://leonidgrr.github.io/webpack/runtime/amd options","webpack://leonidgrr.github.io/webpack/runtime/compat get default export","webpack://leonidgrr.github.io/webpack/runtime/define property getters","webpack://leonidgrr.github.io/webpack/runtime/global","webpack://leonidgrr.github.io/webpack/runtime/harmony module decorator","webpack://leonidgrr.github.io/webpack/runtime/hasOwnProperty shorthand","webpack://leonidgrr.github.io/webpack/runtime/publicPath","webpack://leonidgrr.github.io/webpack/runtime/jsonp chunk loading","webpack://leonidgrr.github.io/webpack/startup"],"names":["deferred","exports","___CSS_LOADER_API_IMPORT___","push","module","id","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_IMPORT_8___","___CSS_LOADER_URL_IMPORT_9___","___CSS_LOADER_URL_IMPORT_10___","___CSS_LOADER_URL_IMPORT_11___","___CSS_LOADER_URL_IMPORT_12___","___CSS_LOADER_URL_IMPORT_13___","___CSS_LOADER_URL_IMPORT_14___","___CSS_LOADER_URL_IMPORT_15___","___CSS_LOADER_URL_IMPORT_16___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___","___CSS_LOADER_URL_REPLACEMENT_8___","___CSS_LOADER_URL_REPLACEMENT_9___","___CSS_LOADER_URL_REPLACEMENT_10___","___CSS_LOADER_URL_REPLACEMENT_11___","___CSS_LOADER_URL_REPLACEMENT_12___","___CSS_LOADER_URL_REPLACEMENT_13___","___CSS_LOADER_URL_REPLACEMENT_14___","___CSS_LOADER_URL_REPLACEMENT_15___","___CSS_LOADER_URL_REPLACEMENT_16___","options","props","header","onChangeScene","onChangeCamera","currentScene","currentCamera","titleMap","showContent","setShowContent","showDescription","setShowDescription","contentRef","isSmallScreen","current","offsetWidth","document","body","clientWidth","handleScene","e","key","currentTarget","dataset","handleCamera","stopPropagation","sub","desc","className","type","onClick","prev","ref","Object","keys","map","onPointerDown","name","key2","href","onLoad","loaded","setLoaded","progress","setProgress","url","itemsLoaded","itemsTotal","console","log","setTimeout","for","max","value","TextLight","text","scene","ttfLoader","TTFLoader","fontLoader","loadAsync","font","parse","material","color","flatShading","emissive","emissiveIntensity","geometry","size","height","mesh","layers","enable","add","render","requestAnimationFrame","time","Date","now","Math","cos","sizes","clientHeight","renderer","state","changeCamera","camera","controls","targetRotation","targetPosition","timing","position","x","y","z","rotation","updateProjectionMatrix","direction","getWorldDirection","getWorldPosition","target","addScaledVector","setupCamera","aspect","set","update","this","OrbitControls","domElement","enableDamping","enablePan","enableRotate","maxDistance","zoomSpeed","cameraState","base","clone","screen","window","addEventListener","Coffee","traverse","child","isMesh","castShadow","receiveShadow","loader","smokeTexture","load","smoke","smokeGeometry","smokeMaterial","side","transparent","opacity","smokeMesh","rotateY","PI","targets","tooltips","addTarget","tooltipDiv","createElement","textContent","tooltip","uuid","removeTarget","element","style","labelRenderer","CSS2DRenderer","setSize","innerWidth","innerHeight","overflow","top","width","appendChild","raycaster","pointer","clientX","clientY","intersected","setFromCamera","intersects","intersectObjects","length","object","traverseAncestors","a","visible","192","char","49","50","51","52","53","54","56","57","58","48","173","61","8","9","81","87","69","82","84","89","85","73","79","80","219","221","220","20","65","83","68","70","71","72","74","75","76","59","222","13","16","90","88","67","86","66","78","77","188","190","191","17","91","18","32","93","Keyboard","keyboardMaterial","roughness","clearcoat","clearcoatRoughness","metalness","switchMaterial","listener","audioLoader","sound1","buffer1","setBuffer","setRefDistance","setVolume","sound2","buffer2","textMaterial","keyMeshes","includes","values","find","Array","isArray","textGeometry","textMesh","rotateX","onPointerMove","keysPressed","animateKeyPress","setInterval","random","play","clearInterval","pointerDownHandler","keyPressHandler","keyCode","k","Lamp","sphere","light","shadow","mapSize","bias","distance","near","far","setupRenderTarget","renderTarget","rtCamera","lookAt","rtScene","background","g","m","wireframe","wireframeLinewidth","cube","canvas","baseWidth","fontSize","ctx","getContext","textWidth","measureText","borderSize","textBaseline","textAlign","fillStyle","fillRect","scaleFactor","min","translate","scale","fillText","makeLabelCanvas","texture","wrapS","wrapT","labelMaterial","label","rtObject","activeScene","setRenderTarget","Screen","screenMaterial","children","RectAreaLightUniformsLib","Desktop","dracoLoader","DRACOLoader","setDecoderPath","preload","GLTFLoader","setDRACOLoader","desktop","forEach","c","Trees","Windows","raindropsCount","rainPower","maxX","maxY","maxZ","sprite","raindrop","vertices","i","setAttribute","sizeAttenuation","alphaTest","blending","positions","attributes","flash","thunder","rain","setLoop","py","getY","targetY","setY","needsUpdate","power","Rain","textLight","ambientLight","textureLoader","backgroundTexture","repeat","backgroundGeometry","backgroundMaterial","backgroundMesh","parent","tree2","glassMaterial","opened","windowRef","sin","getElapsedTime","cameraManager","setCameraDOM","detectClick","getObjectByName","setCameraWebGL","setSceneWebGL","sceneName","s","next","switchScenes","nextScene","fog","convertSRGBToLinear","scene2","bloomLayer","darkMaterial","materials","bloomParams","params","exposure","strength","threshold","radius","renderScene","RenderPass","bloomPass","UnrealBloomPass","bloomComposer","EffectComposer","renderToScreen","addPass","finalPass","ShaderPass","uniforms","baseTexture","bloomTexture","renderTarget2","vertexShader","fragmentShader","defines","needsSwap","finalComposer","darkenNonBloomed","obj","o","test","restoreMaterial","mask","pixelRatio","devicePixelRatio","renderBloom","stats","dom","drillrig","handlersRef","setCurrentScene","webGLAvailible","setWebGLAvailible","context","querySelector","WebGLRenderingContext","antialias","shadowMap","enabled","outputEncoding","toneMapping","CameraManager","RenderingManager","rendering","renderLoop","init","tabIndex","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","amdO","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","d","definition","defineProperty","enumerable","get","globalThis","Function","hmd","create","Error","prop","prototype","hasOwnProperty","scriptUrl","importScripts","location","currentScript","src","scripts","getElementsByTagName","replace","p","installedChunks","179","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"mappings":"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","file":"main.0fe31bb0bdf96c284f77.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tooltip{color:#fff;opacity:0;white-space:nowrap;background:rgba(0,0,0,.5);padding:.25rem .5rem;backdrop-filter:blur(1px)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@keyframes opacity_animation{from{opacity:0}to{opacity:1}}@keyframes width_animation{from{width:0%}to{width:90%}}.explore{transform:translateX(-50%);position:absolute;top:calc(100% - 4rem);left:50%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;flex-wrap:nowrap;animation:opacity_animation 2s ease-out forwards;z-index:5}.explore-separator{margin-bottom:1rem;background:#fff;height:1px;animation:width_animation 2s ease-out forwards}.content,.description{animation:opacity_animation 2s ease-out forwards;margin-top:5rem;transition:height .15s ease-out;position:absolute;backdrop-filter:blur(1px);height:0px;display:flex;align-items:flex-start;justify-content:flex-start;overflow:hidden}.content .scenes,.description .scenes{min-width:14rem;padding:.5rem 1rem;margin:0 1rem 1rem 0rem;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:flex-start;justify-content:flex-start}.content .scenes li,.description .scenes li{padding:.5rem;list-style:none;width:100%}.content .scenes li button,.content .scenes li a,.description .scenes li button,.description .scenes li a{font-size:1rem}.content{background-color:rgba(10,10,10,.9);z-index:5;top:0;left:5%;height:0}.content--show{height:calc(100% - 10.25rem)}.description{background-color:rgba(10,10,10,.9);color:#fff;z-index:4;padding:.5rem 1.25rem;max-width:90%;display:flex;justify-content:flex-end;top:0;right:5%;max-height:0;height:0}.description--show{height:auto;max-height:calc(100% - 10.25rem)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@keyframes opacity_animation{from{opacity:0}to{opacity:1}}@keyframes width_animation{from{width:0%}to{width:90%}}header{z-index:5;position:absolute;top:0;left:0;width:100%;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;flex-wrap:nowrap;animation:opacity_animation 2s ease-out forwards}header h1{font-family:CinzelRegular,sans-serif;padding:.75rem 0rem;color:#fff}header::after{content:\\\"\\\";background:#fff;height:1px;animation:width_animation 2s ease-out forwards}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".loader-wrapper{position:absolute;z-index:2;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:1;transition:1s opacity}.loader-wrapper.fade-out{opacity:0;z-index:-1}.loader-progress{display:flex;align-items:center;justify-content:center;flex-direction:column;flex-wrap:nowrap;position:relative;left:50%;top:50%;width:150px;height:150px;margin:-75px 0 0 -75px}.loader-progress label{color:#fff}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".noWebGL{position:absolute;top:50%;left:50%;z-index:1;transform:translate(-50%, -50%);display:flex;flex-direction:column}.noWebGL span,.noWebGL a{font-size:14px;display:inline}.noWebGL a{text-decoration:underline}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../fonts/Prime-Light.woff2\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../fonts/Prime-Light.woff\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../fonts/Prime-Light.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../fonts/Prime-Regular.woff2\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../fonts/Prime-Regular.woff\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../fonts/Prime-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_6___ = require(\"../fonts/Cinzel-Regular.woff2\");\nvar ___CSS_LOADER_URL_IMPORT_7___ = require(\"../fonts/Cinzel-Regular.woff\");\nvar ___CSS_LOADER_URL_IMPORT_8___ = require(\"../fonts/Roboto-Light.woff2\");\nvar ___CSS_LOADER_URL_IMPORT_9___ = require(\"../fonts/Roboto-Light.woff\");\nvar ___CSS_LOADER_URL_IMPORT_10___ = require(\"../fonts/Roboto-Light.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_11___ = require(\"../fonts/Roboto-Regular.woff2\");\nvar ___CSS_LOADER_URL_IMPORT_12___ = require(\"../fonts/Roboto-Regular.woff\");\nvar ___CSS_LOADER_URL_IMPORT_13___ = require(\"../fonts/Roboto-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_14___ = require(\"../fonts/Roboto-Medium.woff2\");\nvar ___CSS_LOADER_URL_IMPORT_15___ = require(\"../fonts/Roboto-Medium.woff\");\nvar ___CSS_LOADER_URL_IMPORT_16___ = require(\"../fonts/Roboto-Medium.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_10___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_11___);\nvar ___CSS_LOADER_URL_REPLACEMENT_12___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_12___);\nvar ___CSS_LOADER_URL_REPLACEMENT_13___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_13___);\nvar ___CSS_LOADER_URL_REPLACEMENT_14___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_14___);\nvar ___CSS_LOADER_URL_REPLACEMENT_15___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_15___);\nvar ___CSS_LOADER_URL_REPLACEMENT_16___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_16___);\n// Module\nexports.push([module.id, \"@font-face{font-family:\\\"PrimeLight\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format(\\\"woff2\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") format(\\\"woff\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \") format(\\\"truetype\\\");font-weight:100;font-style:normal}@font-face{font-family:\\\"Prime\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") format(\\\"woff2\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") format(\\\"woff\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") format(\\\"truetype\\\");font-weight:normal;font-style:normal}@font-face{font-family:\\\"CinzelRegular\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \") format(\\\"woff2\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \") format(\\\"woff\\\");font-weight:normal;font-style:normal}@font-face{font-family:\\\"RobotoLight\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \") format(\\\"woff2\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_9___ + \") format(\\\"woff\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_10___ + \") format(\\\"truetype\\\");font-weight:100;font-style:normal}@font-face{font-family:\\\"RobotoRegular\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_11___ + \") format(\\\"woff2\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_12___ + \") format(\\\"woff\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_13___ + \") format(\\\"truetype\\\");font-weight:normal;font-style:normal}@font-face{font-family:\\\"RobotoMedium\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_14___ + \") format(\\\"woff2\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_15___ + \") format(\\\"woff\\\"),url(\" + ___CSS_LOADER_URL_REPLACEMENT_16___ + \") format(\\\"truetype\\\");font-weight:500;font-style:normal}*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}html,body{font-family:Prime,sans-serif;overflow:hidden;width:100%;height:100%;font-size:16px;color:#fff;background-color:#000;position:relative}h1,h2,h3,h4,h5,h6,p,ol,ul{font-weight:normal}#preactRoot{width:0;height:0}canvas.webgl{width:100%;height:100%;user-select:none;position:absolute;z-index:1}button{display:flex;flex-wrap:nowrap;align-items:start;justify-content:start}button,a{font-family:PrimeLight,sans-serif;background:none;color:#fff;border:none;outline:none;font-size:1.35rem;cursor:pointer;text-decoration:none}button:hover,a:hover{color:blue}button:focus,a:focus{color:blue;text-decoration:underline}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import './index.scss';\r\n\r\ntype HeaderProps = {\r\n    header: string,\r\n};\r\n\r\nconst Header = (props: HeaderProps) => {\r\n    const { header } = props;\r\n    return (\r\n        <header>\r\n            <h1>{header}</h1>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import {\r\n    useState,\r\n    useEffect,\r\n    useMemo,\r\n    useRef,\r\n} from 'preact/hooks';\r\nimport { Config } from '../index';\r\nimport './index.scss';\r\n\r\ntype ExplorePanelProps = {\r\n    onChangeScene: (key: string) => void,\r\n    onChangeCamera: (key: string) => void,\r\n    currentScene: string,\r\n    currentCamera: string,\r\n    titleMap: Config,\r\n}\r\n\r\nconst Explore = (props: ExplorePanelProps) => {\r\n    const {\r\n        onChangeScene,\r\n        onChangeCamera,\r\n        currentScene,\r\n        currentCamera,\r\n        titleMap,\r\n    } = props;\r\n    const [showContent, setShowContent] = useState(false);\r\n    const [showDescription, setShowDescription] = useState<string | null>(null);\r\n\r\n    const contentRef = useRef<null | HTMLDivElement>(null);\r\n    const isSmallScreen = () => {\r\n        if (contentRef.current) {\r\n            return contentRef.current.offsetWidth >= document.body.clientWidth / 2;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    const handleScene = (e: any) => {\r\n        const { key } = e.currentTarget.dataset;\r\n        if (key && currentScene !== key) {\r\n            setShowContent(false);\r\n            onChangeScene(key);\r\n        } else {\r\n            onChangeCamera('base');\r\n            if (isSmallScreen()) {\r\n                setShowContent(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCamera = (e: any) => {\r\n        e.stopPropagation();\r\n        const { key } = e.currentTarget.dataset;\r\n        if (key && currentCamera !== key) {\r\n            onChangeCamera(key);\r\n            if (isSmallScreen()) {\r\n                setShowContent(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleShowContent = (e: any) => {\r\n        e.stopPropagation();\r\n        setShowContent(prev => !prev);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setShowDescription(titleMap[currentScene]?.sub[currentCamera]?.desc\r\n        || titleMap[currentScene]?.desc);\r\n    }, [currentScene, currentCamera]);\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                aria-label=\"Explore more\"\r\n                className=\"explore\"\r\n            >\r\n                <div className=\"explore-separator\" />\r\n                <button type=\"button\" onClick={handleShowContent}>\r\n                    Explore more\r\n                </button>\r\n            </div>\r\n            <div\r\n                aria-label=\"Table of content\"\r\n                ref={contentRef}\r\n                className={`content ${showContent ? 'content--show' : ''}`}\r\n            >\r\n                <ul className=\"scenes\">\r\n                    {Object.keys(titleMap).map(key => (\r\n                        <li key={key}>\r\n                            <button\r\n                                data-key={key}\r\n                                type=\"button\"\r\n                                onPointerDown={handleScene}\r\n                            >\r\n                                {titleMap[key].name}\r\n                            </button>\r\n                            <ul className=\"cameras\">\r\n                                {currentScene === key && (\r\n                                    Object.keys(titleMap[key]?.sub).map(key2 => (\r\n                                        <li key={key2}>\r\n                                            <button\r\n                                                data-key={key2}\r\n                                                type=\"button\"\r\n                                                onPointerDown={handleCamera}\r\n                                            >\r\n                                                - {titleMap[key]?.sub[key2].name}\r\n                                            </button>\r\n                                        </li>\r\n                                    )\r\n                                ))}\r\n                            </ul>\r\n                        </li>\r\n                    ))}\r\n                    <li className=\"links\">\r\n                        <a href=\"https://github.com/LeonidGrr/leonidgrr.github.io\">\r\n                            GitHub\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div className={`description ${showDescription ? 'description--show' : ''}`}>\r\n                <span aria-label=\"Description\">\r\n                    {showDescription}\r\n                </span>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Explore;","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { useState, useEffect } from 'preact/hooks';\r\nimport * as THREE from 'three';\r\nimport './index.scss';\r\n\r\ntype LoaderProps = {\r\n    onLoad: () => void,\r\n}\r\nconst Loader = (props: LoaderProps) => {\r\n    const { onLoad } = props;\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    useEffect(() => {\r\n        THREE.DefaultLoadingManager.onStart = function(url, itemsLoaded, itemsTotal) {\r\n            console.log('Started loading file: ' + url + '.\\nLoaded ' + itemsLoaded + ' of ' + itemsTotal + ' files.');\r\n        };\r\n    \r\n        THREE.DefaultLoadingManager.onLoad = function() {\r\n            console.log('Loading Complete!');\r\n            setTimeout(() => {\r\n                setLoaded(true);\r\n                onLoad();\r\n            }, 3000);\r\n        };\r\n        \r\n        THREE.DefaultLoadingManager.onProgress = function(url, itemsLoaded, itemsTotal) {\r\n            console.log('Loading file: ' + url + '.\\nLoaded ' + itemsLoaded + ' of ' + itemsTotal + ' files.');\r\n            setProgress(itemsLoaded/itemsTotal * 100);\r\n        };\r\n        \r\n        THREE.DefaultLoadingManager.onError = function(url) {\r\n            console.log('There was an error loading ' + url);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={`loader-wrapper ${loaded ? 'fade-out' : ''}`}>\r\n            <div className=\"loader-progress\">\r\n                <label for=\"loader\">Loading assets</label>\r\n                <progress id=\"loader\" max=\"100\" value={progress}></progress>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import './index.scss';\r\n\r\nconst NoWebGL = () => {\r\n    return (\r\n        <div className=\"noWebGL\">\r\n            <span>\r\n                Sorry, your browser does not support WebGL.\r\n            </span>\r\n            <span>\r\n                Check <a href=\"https://get.webgl.org\">https://get.webgl.org</a> for troubleshooting.\r\n            </span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NoWebGL;","import * as THREE from 'three';\r\nimport { TTFLoader } from 'three/examples/jsm/loaders/TTFLoader.js';\r\nimport fontTtf from '../../fonts/Prime-Regular.ttf'; \r\n\r\nexport const TextLight = async (text: string, scene: THREE.Scene) => {\r\n    // Font\r\n    const ttfLoader = new TTFLoader();\r\n    const fontLoader = new THREE.FontLoader()\r\n    let font = await ttfLoader.loadAsync(fontTtf);\r\n    font = fontLoader.parse(font);\r\n    const material = new THREE.MeshPhongMaterial({\r\n        color: 0xff0000,\r\n        flatShading: true,\r\n        emissive: 0xffffff,\r\n        emissiveIntensity: 1,\r\n    });\r\n\r\n    const geometry = new THREE.TextGeometry(text, {\r\n        font: font as THREE.Font,\r\n        size: 1.2,\r\n        height: 0.3,\r\n    });\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    mesh.name=\"text_mesh\"\r\n    mesh.layers.enable(1);\r\n\r\n    scene.add(mesh)\r\n\r\n    const render = () => {\r\n        requestAnimationFrame(render);\r\n        const time = Date.now() * 0.0005;\r\n        material.emissiveIntensity *= Math.cos(time) * 0.5;\r\n    };\r\n    requestAnimationFrame(render);\r\n\r\n    return { mesh }\r\n};\r\n","import * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\n\r\nconst sizes = {\r\n    width: document.body.clientWidth,\r\n    height: document.body.clientHeight,\r\n};\r\n\r\nexport class CameraManager {\r\n    camera: THREE.PerspectiveCamera;\r\n    state = 'base';\r\n\r\n    constructor(renderer: THREE.WebGLRenderer) {\r\n        this.camera = new THREE.PerspectiveCamera(55, sizes.width / sizes.height, 0.1, 1000);\r\n\r\n        const controls = new OrbitControls(this.camera, renderer.domElement);\r\n        controls.enableDamping = true;\r\n        controls.enablePan = false;\r\n        controls.enableRotate = false;\r\n        controls.maxDistance = 15;\r\n        controls.zoomSpeed = 2;\r\n        \r\n        this.setupCamera(this.camera, controls);\r\n\r\n        const cameraState: {[key: string]: [THREE.Euler, THREE.Vector3]} = {\r\n            base: [this.camera.rotation.clone(), this.camera.position.clone()],\r\n            screen: [new THREE.Euler(-0.2, -0.225, 0), new THREE.Vector3(1.5, 13.5, -10.75)],\r\n        };\r\n\r\n        window.addEventListener('resize', () => {\r\n            this.setupCamera(this.camera, controls);\r\n            cameraState.base = [this.camera.rotation.clone(), this.camera.position.clone()];\r\n            this.state = 'base';\r\n        });\r\n\r\n        const render = () => {\r\n            requestAnimationFrame(render);\r\n            if (cameraState[this.state]) {\r\n                this.changeCamera(this.camera, controls, cameraState[this.state][0], cameraState[this.state][1], 0.05);\r\n            }\r\n            controls.update();\r\n        };\r\n        requestAnimationFrame(render);\r\n    }\r\n\r\n    changeCamera = (\r\n        camera: THREE.PerspectiveCamera,\r\n        controls: OrbitControls,\r\n        targetRotation: THREE.Euler,\r\n        targetPosition: THREE.Vector3,\r\n        timing: number,\r\n    ) => {\r\n        camera.position.x = THREE.MathUtils.lerp(camera.position.x, targetPosition.x, timing);\r\n        camera.position.y = THREE.MathUtils.lerp(camera.position.y, targetPosition.y, timing);\r\n        camera.position.z = THREE.MathUtils.lerp(camera.position.z, targetPosition.z, timing);\r\n        camera.rotation.x = THREE.MathUtils.lerp(camera.rotation.x, targetRotation.x, timing);\r\n        camera.rotation.y = THREE.MathUtils.lerp(camera.rotation.y, targetRotation.y, timing);\r\n        camera.rotation.z = THREE.MathUtils.lerp(camera.rotation.z, targetRotation.z, timing);\r\n\r\n        camera.updateProjectionMatrix();\r\n        const direction = new THREE.Vector3();\r\n        camera.getWorldDirection(direction);\r\n        camera.getWorldPosition(controls.target);\r\n        controls.target.addScaledVector(direction, 1);\r\n    }\r\n\r\n    setupCamera = (camera: THREE.PerspectiveCamera, controls: OrbitControls) => {\r\n        camera.aspect = document.body.clientWidth / document.body.clientHeight;\r\n        camera.updateProjectionMatrix();\r\n\r\n        if (camera.aspect > 1) {\r\n            camera.position.set(0, 15, -3);\r\n            camera.rotation.set(-0.185, 0, 0);\r\n        } else {\r\n            camera.position.set(14, 17, 4);\r\n            camera.rotation.set(0, 0.55, 0);\r\n        }\r\n        \r\n        camera.updateProjectionMatrix();\r\n        const direction = new THREE.Vector3();\r\n        camera.getWorldDirection(direction);\r\n        camera.getWorldPosition(controls.target);\r\n        controls.target.addScaledVector(direction, 1);\r\n        controls.update();\r\n    }\r\n};","import * as THREE from 'three';\r\nimport smoke from '../textures/smoke.png'\r\n\r\nexport const Coffee = async (mesh: THREE.Mesh) => {\r\n    mesh.traverse(function (child) {\r\n        if ((child as THREE.Mesh).isMesh) {\r\n            child.castShadow = true;\r\n            child.receiveShadow = true;\r\n        }\r\n    });\r\n\r\n    const loader = new THREE.TextureLoader();\r\n    const smokeTexture = loader.load(smoke);\r\n    const smokeGeometry = new THREE.PlaneBufferGeometry(75, 25);\r\n    const smokeMaterial = new THREE.MeshPhongMaterial({\r\n        map: smokeTexture,\r\n        side: THREE.DoubleSide,\r\n        transparent: true,\r\n        opacity: 0.4,\r\n    });\r\n    const smokeMesh = new THREE.Mesh(smokeGeometry, smokeMaterial);\r\n    smokeMesh.rotateY(-Math.PI / 2);\r\n    smokeMesh.position.z = 50;\r\n    smokeMesh.castShadow = false;\r\n    smokeMesh.receiveShadow = false;\r\n    mesh.add(smokeMesh);\r\n};\r\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as THREE from 'three';\r\nimport { CSS2DRenderer, CSS2DObject } from 'three/examples/jsm/renderers/CSS2DRenderer.js';\r\nimport './index.scss';\r\n\r\nexport class Tooltip {\r\n    targets: THREE.Mesh[] = [];\r\n    tooltips: {[key: string]: CSS2DObject} = {};\r\n\r\n    constructor(\r\n        camera: THREE.PerspectiveCamera,\r\n        scene: THREE.Scene,\r\n    ) {\r\n        const labelRenderer = new CSS2DRenderer();\r\n        labelRenderer.setSize(window.innerWidth, window.innerHeight);\r\n        labelRenderer.domElement.style.position = 'absolute';\r\n        labelRenderer.domElement.style.overflow = 'visible';\r\n        labelRenderer.domElement.style.top = '0px';\r\n        labelRenderer.domElement.style.height = '0px';\r\n        labelRenderer.domElement.style.width = '0px';\r\n        document.body.appendChild(labelRenderer.domElement);\r\n\r\n        const raycaster = new THREE.Raycaster();\r\n        const pointer = new THREE.Vector2();\r\n        document.addEventListener('mousemove', (e: MouseEvent) => {\r\n            pointer.x = (e.clientX / document.body.clientWidth) * 2 - 1;\r\n            pointer.y = -(e.clientY / document.body.clientHeight) * 2 + 1;\r\n        });\r\n\r\n        window.addEventListener('resize', () => {\r\n            labelRenderer.setSize(document.body.clientWidth, document.body.clientHeight);\r\n        });\r\n\r\n        let intersected: string | null = null;\r\n        const render = () => {\r\n            raycaster.setFromCamera(pointer, camera);\r\n            const intersects = raycaster.intersectObjects(this.targets); \r\n            if (intersects.length > 0) {\r\n                intersected = intersects[0].object.uuid;\r\n                const tooltip = this.tooltips[intersected];\r\n                let isVisible = true;\r\n                intersects[0].object.traverseAncestors(a => {\r\n                    if (a.visible === false) {\r\n                        isVisible = false;\r\n                    }\r\n                });\r\n                if (tooltip && isVisible) {\r\n                    tooltip.element.style.opacity = '1';\r\n                }\r\n            } else if (intersected) {\r\n                const tooltip = this.tooltips[intersected];\r\n                if (tooltip) {\r\n                    tooltip.element.style.opacity = '0';\r\n                }\r\n                intersected = null;\r\n            }\r\n\r\n            labelRenderer.render(scene, camera);\r\n            requestAnimationFrame(render);\r\n        };\r\n        requestAnimationFrame(render);\r\n    }\r\n\r\n    addTarget = (mesh: THREE.Mesh, text: string, position?: THREE.Vector3) => {\r\n        this.targets.push(mesh);\r\n        const tooltipDiv = document.createElement('div');\r\n        tooltipDiv.className = 'tooltip';\r\n        tooltipDiv.textContent = text;\r\n        const tooltip = new CSS2DObject(tooltipDiv);\r\n        tooltip.position.set(position?.x || 0, position?.y || 0, position?.z || 0);\r\n\r\n        mesh.add(tooltip);\r\n        this.tooltips[mesh.uuid] = tooltip;\r\n    }\r\n\r\n    removeTarget = (uuid: string) => {\r\n        if (this.tooltips[uuid]) {\r\n            this.tooltips[uuid].element.style.opacity = '0';\r\n            delete this.tooltips[uuid];\r\n        }\r\n    }\r\n};\r\n","const keyCodeMap: {[key: number]: { name: string | string[], char: string }} = {\r\n    192: { name: 'Cube', char: '~'},\r\n    49: { name: 'Cube039', char: '1'},\r\n    50: { name: 'Cube040', char: '2'},\r\n    51: { name: 'Cube041', char: '3'},\r\n    52: { name: 'Cube042', char: '4'},\r\n    53: { name: 'Cube043', char: '5'},\r\n    54: { name: 'Cube044', char: '6'},\r\n    56: { name: 'Cube045', char: '7'},\r\n    57: { name: 'Cube046', char: '8'},\r\n    58: { name: 'Cube047', char: '9'},\r\n    48: { name: 'Cube048', char: '0'},\r\n    173: { name: 'Cube049', char: '-_'},\r\n    61: { name: 'Cube050', char: '=+'},\r\n    8: { name: 'Cube016', char: 'BackSp'},\r\n\r\n    9: { name: 'Cube003', char: 'Tab'},\r\n    81: { name: 'Cube004', char: 'q'},\r\n    87: { name: 'Cube070', char: 'w'},\r\n    69: { name: 'Cube071', char: 'e'},\r\n    82: { name: 'Cube072', char: 'r'},\r\n    84: { name: 'Cube073', char: 't'},\r\n    89: { name: 'Cube074', char: 'y'},\r\n    85: { name: 'Cube075', char: 'u'},\r\n    73: { name: 'Cube076', char: 'i'},\r\n    79: { name: 'Cube077', char: 'o'},\r\n    80: { name: 'Cube078', char: 'p'},\r\n    219: { name: 'Cube079', char: '[{'},\r\n    221: { name: 'Cube080', char: ']}'},\r\n    220: { name: 'Cube015', char: '\\\\'},\r\n\r\n    20: { name: 'Cube005', char: 'CapsLk'},\r\n    65: { name: 'Cube001', char: 'a'},\r\n    83: { name: 'Cube051', char: 's'},\r\n    68: { name: 'Cube052', char: 'd'},\r\n    70: { name: 'Cube053', char: 'f'},\r\n    71: { name: 'Cube054', char: 'g'},\r\n    72: { name: 'Cube055', char: 'h'},\r\n    74: { name: 'Cube056', char: 'j'},\r\n    75: { name: 'Cube057', char: 'k'},\r\n    76: { name: 'Cube058', char: 'l'},\r\n    59: { name: 'Cube059', char: ';:'},\r\n    222: { name: 'Cube060', char: '\\'\"'},\r\n    13: { name: 'Cube017', char: 'Enter'},\r\n\r\n    16: { name: ['Cube006', 'Cube018'], char: 'Shift'},\r\n    90: { name: 'Cube002', char: 'z'},\r\n    88: { name: 'Cube061', char: 'x'},\r\n    67: { name: 'Cube062', char: 'c'},\r\n    86: { name: 'Cube063', char: 'v'},\r\n    66: { name: 'Cube064', char: 'b'},\r\n    78: { name: 'Cube065', char: 'n'},\r\n    77: { name: 'Cube066', char: 'm'},\r\n    188: { name: 'Cube067', char: ',<'},\r\n    190: { name: 'Cube068', char: '.>'},\r\n    191: { name: 'Cube069', char: '/?'},\r\n\r\n    17: { name: ['Cube008', 'Cube014'], char: 'Ctrl'},\r\n    91: { name: 'Cube009', char: 'OS'},\r\n    18: { name: ['Cube010', 'Cube013'], char: 'Alt'},\r\n    32: { name: 'Cube007', char: '  '},\r\n    93: { name: 'Cube012', char: 'Ctx'},\r\n};\r\n\r\nexport default keyCodeMap;\r\n","import * as THREE from 'three';\r\nimport { TTFLoader } from 'three/examples/jsm/loaders/TTFLoader.js';\r\nimport fontTtf from '../../../fonts/Prime-Regular.ttf'; \r\nimport keySound1 from '../../sounds/key1.aac';\r\nimport keySound2 from '../../sounds/key2.aac';\r\nimport { Tooltip } from '../Tooltip';\r\nimport keyCodeMap from './keycodeMap';\r\n\r\nexport const Keyboard = async (mesh: THREE.Mesh, camera: THREE.Camera, tooltip: Tooltip) => {\r\n    // Materials\r\n    const keyboardMaterial = new THREE.MeshPhysicalMaterial({\r\n        roughness: 0.45,\r\n        clearcoat: 0.39,\r\n        clearcoatRoughness: 0,\r\n        metalness: 0.9,\r\n        color: 0x323138,\r\n    });\r\n    const switchMaterial = keyboardMaterial.clone();\r\n    switchMaterial.color.set(0xFFFFFF);\r\n\r\n    // Sounds\r\n    const listener = new THREE.AudioListener();\r\n    camera.add(listener);\r\n\r\n    const audioLoader = new THREE.AudioLoader();\r\n    const sound1 = new THREE.PositionalAudio(listener);\r\n    const buffer1 = await audioLoader.loadAsync(keySound1);\r\n    sound1.setBuffer(buffer1);\r\n    sound1.setRefDistance(40);\r\n    sound1.setVolume(0.5);\r\n    const sound2 = new THREE.PositionalAudio(listener);\r\n    const buffer2 = await audioLoader.loadAsync(keySound2);\r\n    sound2.setBuffer(buffer2);\r\n    sound2.setVolume(0.5);\r\n    sound2.setRefDistance(40);       \r\n\r\n    // Font\r\n    const ttfLoader = new TTFLoader();\r\n    const fontLoader = new THREE.FontLoader()\r\n    let font = await ttfLoader.loadAsync(fontTtf);\r\n    font = fontLoader.parse(font);\r\n    const textMaterial = new THREE.MeshPhongMaterial({\r\n        color: 0xffffff,\r\n    });\r\n\r\n    // Model\r\n    const keyMeshes: THREE.Object3D[] = [];\r\n    mesh.traverse(async child => {\r\n        if ((child as THREE.Mesh).isMesh) {\r\n            const mesh = child as THREE.Mesh;\r\n            if (child.name.includes('Cube')\r\n            && child.position.y !== 0) {\r\n                mesh.material = keyboardMaterial;\r\n\r\n                const key = Object.values(keyCodeMap).find(value => {;\r\n                    if (Array.isArray(value.name)) {\r\n                        return value.name.includes(mesh.name)\r\n                    }\r\n                    return value.name === mesh.name;\r\n                });\r\n\r\n                const textGeometry = new THREE.TextGeometry(key?.char || '', {\r\n                    font: font as THREE.Font,\r\n                    size: 0.005,\r\n                    height: 0.0025,\r\n                });\r\n\r\n                const textMesh = new THREE.Mesh(textGeometry, textMaterial);\r\n                textMesh.position.y = 0.0067;\r\n                textMesh.position.x = -0.0075;\r\n                textMesh.rotateX(-Math.PI / 2);\r\n                textMesh.layers.enable(1);\r\n                child.add(textMesh);\r\n\r\n                keyMeshes.push(child);\r\n            } else if (child.name === 'plate') {\r\n                mesh.material = keyboardMaterial;\r\n                child.castShadow = true;\r\n                tooltip?.addTarget(child as THREE.Mesh, 'Press any key...', new THREE.Vector3(0, -0.0175, 0));\r\n            } else {\r\n                mesh.material = switchMaterial;\r\n                mesh.layers.enable(1);\r\n            }\r\n        }\r\n    });\r\n    mesh.add(sound1);\r\n    mesh.add(sound2);\r\n\r\n    // Events\r\n    const pointer = new THREE.Vector2();\r\n    const onPointerMove = (e: MouseEvent) => {\r\n        pointer.x = (e.clientX / document.body.clientWidth) * 2 - 1;\r\n        pointer.y = - (e.clientY / document.body.clientHeight) * 2 + 1;\r\n    };\r\n    const raycaster = new THREE.Raycaster();\r\n    const keysPressed: {[key: string]: boolean} = {};\r\n    const animateKeyPress = (key: THREE.Object3D) => {\r\n        if (!keysPressed[key.name]) {\r\n            keysPressed[key.name] = true;\r\n            let direction = 'down';\r\n            let initialY = key.position.y;\r\n            let bottomY = key.position.y - 0.005;\r\n    \r\n            const interval = setInterval(() => {\r\n                if (direction === 'down') {\r\n                    key.position.y -= 0.001;\r\n                    if (key.position.y <= bottomY) {\r\n                        Math.random() > 0.6 ? sound1.play() : sound2.play();\r\n                        direction = 'up';\r\n                    }\r\n                }\r\n                if (direction === 'up') {\r\n                    key.position.y += 0.001;\r\n                    if (key.position.y >= initialY) {\r\n                        direction = 'none';\r\n                        clearInterval(interval);\r\n                        keysPressed[key.name] = false;\r\n                    }\r\n                }\r\n            }, 0.001);\r\n        }\r\n    };\r\n\r\n    const pointerDownHandler = (e: MouseEvent | TouchEvent) => {\r\n        raycaster.setFromCamera(pointer, camera);\r\n        const intersects = raycaster.intersectObjects(keyMeshes); \r\n        if (intersects.length > 0) {\r\n            animateKeyPress(intersects[0].object);\r\n        }\r\n    };\r\n\r\n    const keyPressHandler = (e: KeyboardEvent) => {\r\n        const key = keyCodeMap[e.keyCode];\r\n        if (key) {\r\n            const mesh = keyMeshes.find(k => {\r\n                if (Array.isArray(key.name)) {\r\n                    return key.name.includes(k.name);\r\n                }\r\n                return key.name === k.name;\r\n            });\r\n            animateKeyPress(mesh as THREE.Object3D);\r\n        }\r\n    };\r\n\r\n    window.addEventListener('pointerdown', pointerDownHandler, false);\r\n    window.addEventListener('keydown', keyPressHandler);\r\n    window.addEventListener('pointermove', onPointerMove);\r\n};\r\n","import * as THREE from 'three';\r\n\r\nexport const Lamp = async (mesh: THREE.Mesh, scene: THREE.Scene) => {\r\n    mesh.traverse(async child => {\r\n        if ((child as THREE.Mesh).isMesh) {\r\n            child.castShadow = true;            \r\n        }\r\n    });\r\n\r\n    const geometry = new THREE.IcosahedronGeometry(0.3, 16);\r\n    const material = new THREE.MeshPhongMaterial({\r\n        emissive: 0xffffff,\r\n        emissiveIntensity: 1,\r\n        color: 0xffffff,\r\n    });\r\n    const sphere = new THREE.Mesh(geometry, material);\r\n    sphere.name = 'lamp_mesh';\r\n    sphere.layers.enable(1);\r\n\r\n    const light = new THREE.PointLight(0xffffff, 3);\r\n    light.name = 'lamp_light';\r\n    light.shadow.mapSize = new THREE.Vector2(512, 512);\r\n    light.shadow.bias = 0.001;\r\n    light.distance = 25;\r\n    \r\n    light.shadow.camera.near = 0.01;\r\n    light.shadow.camera.far = 25;\r\n    light.position.set(-5.32, 13.95, -17.9);\r\n    light.castShadow = true;\r\n    light.add(sphere);\r\n    scene.add(light);\r\n};\r\n","import * as THREE from 'three';\r\n\r\nfunction makeLabelCanvas(baseWidth: number, fontSize: number, name: string) {\r\n    const borderSize = 2;\r\n    const ctx = document.createElement('canvas').getContext('2d')!;\r\n    const font =  `${fontSize}px Prime`;\r\n    ctx.font = font;\r\n    // measure how long the name will be\r\n    const textWidth = ctx.measureText(name).width;\r\n\r\n    const doubleBorderSize = borderSize * 2;\r\n    const width = baseWidth + doubleBorderSize;\r\n    const height = fontSize + doubleBorderSize;\r\n    ctx.canvas.width = width;\r\n    ctx.canvas.height = height;\r\n\r\n    // need to set font again after resizing canvas\r\n    ctx.font = font;\r\n    ctx.textBaseline = 'middle';\r\n    ctx.textAlign = 'center';\r\n\r\n    ctx.fillStyle = \"rgba(0, 0, 0, 0.95)\";\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    // scale to fit but don't stretch\r\n    const scaleFactor = Math.min(1, baseWidth / textWidth);\r\n    ctx.translate(width / 2, height / 2);\r\n    ctx.scale(scaleFactor, 1);\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillText(name, 0, 0);\r\n\r\n    return ctx.canvas;\r\n}\r\n\r\nexport const setupRenderTarget = async (renderer: THREE.WebGLRenderer) => {\r\n    // Initial scene\r\n    const rtWidth = 512;\r\n    const rtHeight = 512;\r\n    const renderTarget = new THREE.WebGLRenderTarget(rtWidth, rtHeight);\r\n    const rtCamera = new THREE.PerspectiveCamera();\r\n    rtCamera.position.z = 15;\r\n    rtCamera.lookAt(0, 0, 0);\r\n        \r\n    const rtScene = new THREE.Scene();\r\n    const light = new THREE.AmbientLight(0xFFFFFF, 1);\r\n    rtScene.background = new THREE.Color(0, 0, 1);\r\n    rtScene.add(light);\r\n\r\n    const g = new THREE.BoxGeometry(3, 3, 3);\r\n    const m = new THREE.MeshStandardMaterial({\r\n        color: 0x00ff00,\r\n        wireframe: true,\r\n        wireframeLinewidth: 3,\r\n    });\r\n    const cube = new THREE.Mesh(g, m);\r\n    rtScene.add(cube);\r\n\r\n    const canvas = makeLabelCanvas(300, 64, 'Press any key...');\r\n    const texture = new THREE.CanvasTexture(canvas);\r\n    texture.wrapS = THREE.ClampToEdgeWrapping;\r\n    texture.wrapT = THREE.ClampToEdgeWrapping;\r\n\r\n    const labelMaterial = new THREE.SpriteMaterial({\r\n      map: texture,\r\n      transparent: true,\r\n    });\r\n    const label = new THREE.Sprite(labelMaterial);\r\n    label.scale.x = canvas.width  * 0.01;\r\n    label.scale.y = canvas.height * 0.01;\r\n    label.position.y = -4;\r\n    rtScene.add(label);\r\n\r\n    // Terminal\r\n\r\n    // Container mesh\r\n    const geometry = new THREE.PlaneGeometry(7.15, 4.325);\r\n    const material = new THREE.MeshStandardMaterial({\r\n        map: renderTarget.texture,\r\n    });\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    mesh.name = 'screen';\r\n    mesh.layers.enable(1);\r\n\r\n    const rtObject = new THREE.Object3D();\r\n    rtObject.add(mesh);\r\n\r\n    let activeScene = rtScene;\r\n    const render = () => {\r\n        cube.rotation.x += 0.01;\r\n        cube.rotation.y += 0.01;\r\n        renderer.setRenderTarget(renderTarget);\r\n        renderer.render(activeScene, rtCamera);\r\n        renderer.setRenderTarget(null);\r\n        requestAnimationFrame(render);\r\n    };\r\n    requestAnimationFrame(render);\r\n\r\n    return { rtObject };\r\n};\r\n","import * as THREE from 'three';\r\nimport { setupRenderTarget } from './renderTarget';\r\nimport { RectAreaLightUniformsLib } from 'three/examples/jsm/lights/RectAreaLightUniformsLib.js';\r\nimport { Tooltip } from '../Tooltip';\r\n\r\nexport const Screen = async (\r\n    mesh: THREE.Mesh,\r\n    scene: THREE.Scene,\r\n    renderer: THREE.WebGLRenderer,\r\n    tooltip: Tooltip,\r\n) => {\r\n    const screenMaterial = new THREE.MeshPhysicalMaterial({\r\n        roughness: 0.45,\r\n        clearcoat: 0.39,\r\n        clearcoatRoughness: 0,\r\n        metalness: 0.9,\r\n        color: 0x323138,\r\n    });\r\n\r\n    mesh.traverse(async child => {\r\n        if ((child as THREE.Mesh).isMesh) {\r\n            const mesh = child as THREE.Mesh;\r\n            child.castShadow = true;\r\n            mesh.material = screenMaterial;\r\n        }\r\n    });\r\n\r\n    const { rtObject } = await setupRenderTarget(renderer);\r\n    rtObject.position.set(3.9, 12.5, -19.9);\r\n    rtObject.rotateY(-Math.PI / 13);\r\n    rtObject.rotateX(-Math.PI / 24);\r\n    scene.add(rtObject);\r\n\r\n    tooltip.addTarget(rtObject.children[0] as THREE.Mesh, 'Screen here!', new THREE.Vector3(0, 2, 0));\r\n\r\n    RectAreaLightUniformsLib.init();\r\n    const light = new THREE.RectAreaLight(0x0000ff, 5, 7.05, 4.3);\r\n    light.name = 'screen_light';\r\n    light.rotateY(Math.PI - Math.PI / 13);\r\n    light.rotateX(Math.PI / 24);\r\n    light.position.set(\r\n        rtObject.position.x,\r\n        rtObject.position.y,\r\n        rtObject.position.z,\r\n    );\r\n    scene.add(light);\r\n};\r\n","import * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport {\r\n    Keyboard,\r\n    Screen,\r\n    Lamp,\r\n    Coffee,\r\n    Rain,\r\n    Trees,\r\n    Tooltip,\r\n    Windows,\r\n    TextLight,\r\n} from '.';\r\nimport desktopScene from '../models/desktopSceneDraco.glb';\r\nimport background from '../textures/background.png';\r\n\r\nexport const Desktop = async (\r\n    scene: THREE.Scene,\r\n    camera: THREE.PerspectiveCamera,\r\n    renderer: THREE.WebGLRenderer,\r\n    tooltip: Tooltip,\r\n) => {\r\n    const dracoLoader = new DRACOLoader();\r\n    dracoLoader.setDecoderPath('/draco/gltf/');\r\n    dracoLoader.preload();\r\n\r\n    const loader = new GLTFLoader();\r\n    loader.setDRACOLoader(dracoLoader);\r\n\r\n    const desktop = await loader.loadAsync(desktopScene);\r\n\r\n    desktop.scene.rotateY(-Math.PI / 2);\r\n    desktop.scene.scale.set(12, 12, 12);\r\n    desktop.scene.children.forEach(async child => {\r\n        if (child.name === 'Desk') {\r\n            child.traverse(function (c) {\r\n                if ((c as THREE.Mesh).isMesh) {\r\n                    c.castShadow = true;\r\n                    c.receiveShadow = true;\r\n                }\r\n            });\r\n        }\r\n        if (child.name === 'Lamp') {\r\n            await Lamp(child as THREE.Mesh, scene);\r\n        }\r\n        if (child.name === 'Keyboard') {\r\n            await Keyboard(child as THREE.Mesh, camera, tooltip);\r\n        }\r\n        if (child.name === 'Floor') {\r\n            child.receiveShadow = true;\r\n            const mesh = child as THREE.Mesh;\r\n            (mesh.material as THREE.MeshStandardMaterial).color.set(0x003c8c);\r\n        }\r\n        if (child.name === 'Screen') {\r\n            await Screen(child as THREE.Mesh, scene, renderer, tooltip);\r\n        }\r\n        if (child.name === 'Coffee') {\r\n            await Coffee(child as THREE.Mesh);\r\n        }\r\n        if (child.name === 'Tree') {\r\n            Trees(child as THREE.Mesh, desktop.scene);\r\n        }\r\n        if (child.name === 'Windows') {\r\n            Windows(child as THREE.Mesh, camera, tooltip);\r\n        }\r\n        if (child.name === 'Room') {\r\n            child.traverse(c => {\r\n                c.castShadow = true;\r\n                c.receiveShadow = true;\r\n                if ((c as THREE.Mesh).isMesh) {\r\n                    const mesh = c as THREE.Mesh;\r\n                    (mesh.material as THREE.MeshStandardMaterial).color.set(0x000000);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    scene.add(desktop.scene);\r\n\r\n    Rain({\r\n        position: new THREE.Vector3(-50, 5, -100),\r\n        raindropsCount: 200,\r\n        rainPower: 0.25,\r\n        maxX: 100,\r\n        maxY: 100,\r\n        maxZ: 50,\r\n    }, camera, scene);\r\n\r\n    const textLight = await TextLight('Hello world!', scene);\r\n    textLight.mesh.position.set(-9.5, 10, -22);\r\n    textLight.mesh.rotateY(Math.PI / 6);\r\n    textLight.mesh.rotateX(-Math.PI / 10);\r\n\r\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.35);\r\n    ambientLight.name = 'ambient_light';\r\n    scene.add(ambientLight);\r\n\r\n    // StreetLight(new THREE.Vector3(-15, 15, -70), scene);\r\n\r\n    // const spotLight = new THREE.SpotLight(0xffffff, 5);\r\n    // spotLight.position.set(-5, 40, 40);\r\n    // // spotLight.angle = Math.PI / 3;\r\n    // // spotLight.penumbra = 1;\r\n    // // spotLight.decay = 1;\r\n    // // spotLight.distance = 200;\r\n\r\n    // spotLight.castShadow = true;\r\n    // spotLight.shadow.mapSize.width = 512;\r\n    // spotLight.shadow.mapSize.height = 512;\r\n    // spotLight.shadow.camera.near = 1;\r\n    // spotLight.shadow.camera.far = 50;\r\n    // spotLight.shadow.focus = 1;\r\n    // scene.add(spotLight);\r\n\r\n    // const h = new THREE.SpotLightHelper(spotLight);\r\n    // scene.add(h);\r\n\r\n    const textureLoader = new THREE.TextureLoader();\r\n    const backgroundTexture = textureLoader.load(background);\r\n    backgroundTexture.wrapS = THREE.RepeatWrapping;\r\n    backgroundTexture.wrapT = THREE.RepeatWrapping;\r\n    backgroundTexture.repeat.set(4, 1);\r\n    const backgroundGeometry = new THREE.PlaneBufferGeometry(500, 75);\r\n    const backgroundMaterial = new THREE.MeshBasicMaterial({ map: backgroundTexture });\r\n    const backgroundMesh = new THREE.Mesh(backgroundGeometry, backgroundMaterial);\r\n    backgroundMesh.position.z = -300;\r\n    scene.add(backgroundMesh);\r\n}","import * as THREE from 'three';\r\nimport raindrop from '../textures/raindrop.png';\r\nimport thunder1 from '../sounds/thunder.aac';\r\nimport rain from '../sounds/rain.aac';\r\n\r\nexport const Rain = async ({\r\n        position = new THREE.Vector3(),\r\n        raindropsCount = 150000,\r\n        rainPower = 0.01,\r\n        maxX = 100,\r\n        maxY = 100,\r\n        maxZ = 100,\r\n    },\r\n    camera: THREE.PerspectiveCamera,\r\n    scene: THREE.Scene) => {\r\n    const loader = new THREE.TextureLoader();\r\n    const sprite = loader.load(raindrop);\r\n    const geometry = new THREE.BufferGeometry();\r\n    const vertices = [];\r\n\r\n    for (let i = 0; i < raindropsCount; i ++) {\r\n        const x = Math.random() * maxX;\r\n        const y = Math.random() * maxY;\r\n        const z = Math.random() * maxZ;\r\n        vertices.push(x, y, z);\r\n    }\r\n\r\n    geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\r\n\r\n    const material = new THREE.PointsMaterial({\r\n        size: 2,\r\n        transparent: true,\r\n        map: sprite,\r\n        sizeAttenuation: true, \r\n        alphaTest: 0.01,\r\n        blending: THREE.AdditiveBlending,\r\n    });\r\n\r\n    const ref = new THREE.Points(geometry, material);\r\n    ref.position.set(\r\n        position.x,\r\n        position.y,\r\n        position.z,\r\n    );\r\n    const positions = ref.geometry.attributes.position;\r\n\r\n    // Flashlight\r\n    const flash = new THREE.PointLight(0x062d89, 30, 300, 1.7);\r\n    flash.position.set(0, 50, -200);\r\n    scene.add(flash);\r\n\r\n    // Sounds\r\n    const listener = new THREE.AudioListener();\r\n    camera.add(listener);\r\n\r\n    const audioLoader = new THREE.AudioLoader();\r\n    const sound1 = new THREE.PositionalAudio(listener);\r\n    const buffer1 = await audioLoader.loadAsync(thunder1);\r\n    sound1.setBuffer(buffer1);\r\n    sound1.setRefDistance(500);\r\n\tsound1.setVolume(0.1);\r\n    flash.add(sound1);\r\n\r\n    const sound2 = new THREE.PositionalAudio(listener);\r\n    const buffer2 = await audioLoader.loadAsync(rain);\r\n    sound2.setBuffer(buffer2);\r\n    sound2.setRefDistance(100);\r\n\tsound2.setVolume(0.05);\r\n    sound2.setLoop(true);\r\n    scene.add(sound2);\r\n    sound2.position.z = -50;\r\n    sound2.play();\r\n\r\n    const render = () => {\r\n        for (let i = 0; i < raindropsCount; i ++) {\r\n            const py = positions.getY(i);\r\n            const targetY = py <= -0.1 * maxY\r\n                ? Math.random() * maxY - maxY / 2\r\n                : THREE.MathUtils.lerp(py, -0.2 * maxY, Math.random() * rainPower);\r\n\r\n            positions.setY(\r\n                i,\r\n                targetY,\r\n            );\r\n        }\r\n        ref.geometry.attributes.position.needsUpdate = true;\r\n\r\n        if (Math.random() > 0.99 || flash.power > 100) {\r\n            Math.random() > 0.8 && sound1.play();\r\n            if (flash.power < 100) {\r\n                flash.position.set(\r\n                    Math.random() * 200,\r\n                    50 + Math.random() * 100,\r\n                    -200,\r\n                );\r\n            }\r\n            flash.power = 50 + Math.random() * 100;\r\n        } else {\r\n            flash.power = 0;\r\n        }\r\n\r\n        requestAnimationFrame(render);\r\n    };\r\n    requestAnimationFrame(render);\r\n\r\n    scene.add(ref);\r\n};\r\n","import * as THREE from 'three';\r\n\r\nexport const Trees = (mesh: THREE.Mesh, parent: THREE.Group) => {\r\n    mesh.position.z += 0.5;\r\n    mesh.position.x = -4.5;\r\n\r\n    const tree2 = mesh.clone();\r\n    tree2.position.set(-7, -0.27, -2.5);\r\n    tree2.rotateY(Math.random() * Math.PI);\r\n    tree2.scale.set(\r\n        tree2.scale.x * 0.9,\r\n        tree2.scale.y * 0.9,\r\n        tree2.scale.z * 0.9,\r\n    );\r\n    parent.add(tree2);\r\n};\r\n","import * as THREE from 'three';\r\nimport { Tooltip } from './Tooltip';\r\n\r\nconst pointer = new THREE.Vector2();\r\ndocument.addEventListener('mousemove', (e: MouseEvent) => {\r\n    pointer.x = (e.clientX / document.body.clientWidth) * 2 - 1;\r\n    pointer.y = -(e.clientY / document.body.clientHeight) * 2 + 1;\r\n});\r\n\r\nexport const Windows = (mesh: THREE.Mesh, camera: THREE.PerspectiveCamera,tooltip: Tooltip) => {\r\n    const glassMaterial = new THREE.MeshStandardMaterial({\r\n        opacity: 0.3,\r\n        transparent: true,\r\n        roughness: 0,\r\n        metalness: 1,\r\n        side: THREE.DoubleSide,\r\n    });\r\n\r\n    const targets: THREE.Mesh[] = [];\r\n    let opened = true;\r\n    let windowRef: THREE.Mesh | null = null;\r\n    mesh.traverse(function (c) {\r\n        if (c.name === 'Window') {\r\n            windowRef = c as THREE.Mesh;\r\n        }\r\n        if (c.name === 'Plane') {\r\n            targets.push(c as THREE.Mesh);\r\n            tooltip.addTarget(c as THREE.Mesh, 'Close window', new THREE.Vector3(0, 0, 0));\r\n        }\r\n        if ((c as THREE.Mesh).isMesh && !c.name.includes('Plane')) {\r\n            c.castShadow = true;\r\n            c.receiveShadow = true;\r\n        } else {\r\n            ((c as THREE.Mesh).material as THREE.MeshStandardMaterial) = glassMaterial;\r\n        }\r\n    });\r\n\r\n    const raycaster = new THREE.Raycaster();\r\n    document.addEventListener('pointerdown', () => {\r\n        raycaster.setFromCamera(pointer, camera);\r\n        const intersects = raycaster.intersectObjects(targets);\r\n        if (intersects.length > 0) {\r\n            opened = false;\r\n            tooltip.removeTarget(targets[0]?.uuid);\r\n        }\r\n    });\r\n\r\n    if (windowRef) {\r\n        windowRef!.rotation.y -= 0.05;\r\n        const clock = new THREE.Clock();\r\n        const render = () => {\r\n            if (opened) {\r\n                windowRef!.rotation.y += Math.sin(clock.getElapsedTime()) * 0.001;\r\n            } else if (windowRef!.rotation.y < 0) {\r\n                windowRef!.rotation.y += 0.02;\r\n            }\r\n            requestAnimationFrame(render);\r\n        };\r\n        requestAnimationFrame(render);\r\n    }\r\n}\r\n","import * as THREE from 'three';\r\nimport { Desktop, Tooltip, CameraManager } from '.';\r\n\r\nexport class RenderingManager {\r\n    activeScene = 'desktop';\r\n    scene: THREE.Scene;\r\n    cameraManager: CameraManager;\r\n    \r\n    constructor(\r\n        renderer: THREE.WebGLRenderer,\r\n        cameraManager: CameraManager,\r\n        setCameraDOM: (name: string) => void,\r\n    ) {\r\n        this.cameraManager = cameraManager;\r\n\r\n        // Main scene, camera, tooltips\r\n        this.scene = new THREE.Scene();\r\n        this.scene.name = 'main';\r\n        this.scene.fog = new THREE.FogExp2(0x000000);\r\n        this.scene.background = this.scene.fog.color;\r\n        this.scene.background.convertSRGBToLinear();\r\n\r\n        const tooltip = new Tooltip(this.cameraManager.camera, this.scene);\r\n\r\n        // Setup desktop scene\r\n        const scene = new THREE.Scene();\r\n        scene.name = 'desktop';\r\n        Desktop(scene, this.cameraManager.camera, renderer, tooltip);\r\n        this.scene.add(scene);\r\n\r\n        // Setup drillrig scene\r\n        const scene2 = new THREE.Scene();\r\n        scene2.name = 'drillrig';\r\n        scene2.visible = false;\r\n        const geometry = new THREE.BoxGeometry(3, 3, 3);\r\n        const material = new THREE.MeshBasicMaterial({\r\n            color: 0xffffff,\r\n            wireframe: true,\r\n        });\r\n        const mesh = new THREE.Mesh(geometry, material);\r\n        mesh.position.z = -10;\r\n        mesh.position.y = 10;\r\n        scene2.add(mesh);\r\n\r\n        this.scene.add(scene2);\r\n\r\n        this.detectClick(setCameraDOM);\r\n    }\r\n\r\n    detectClick = (setCameraDOM: (name: string) => void) => {\r\n        const raycaster = new THREE.Raycaster();\r\n        const targets: {[key: string]: THREE.Object3D} = {};\r\n        const pointer = new THREE.Vector2();\r\n        document.addEventListener('mousemove', (e: MouseEvent) => {\r\n            pointer.x = (e.clientX / document.body.clientWidth) * 2 - 1;\r\n            pointer.y = -(e.clientY / document.body.clientHeight) * 2 + 1;\r\n        });\r\n\r\n        document.addEventListener('pointerdown', () => {\r\n            if (!targets.screen) {\r\n                const screen = this.scene.getObjectByName('screen');\r\n                if (screen) targets.screen = screen;\r\n            }\r\n            raycaster.setFromCamera(pointer, this.cameraManager.camera);\r\n            const intersects = raycaster.intersectObjects(Object.values(targets)); \r\n            if (intersects.length > 0) {\r\n                if (intersects[0].object.name === 'screen') {\r\n                    this.cameraManager.state = 'screen';\r\n                    setCameraDOM('screen')\r\n                }\r\n            } else {\r\n                this.cameraManager.state = 'base';\r\n                setCameraDOM('base')\r\n            }\r\n        }, false);\r\n    }\r\n\r\n    setCameraWebGL = (cameraState: string) => this.cameraManager.state = cameraState;\r\n\r\n    setSceneWebGL = (sceneName: string) => {\r\n        const current = this.scene.children.find(s => s.name === this.activeScene);\r\n        const next = this.scene.children.find(s => s.name === sceneName);\r\n\r\n        if (current && next) {\r\n            this.activeScene = sceneName;\r\n            this.switchScenes(current as THREE.Scene, next as THREE.Scene);\r\n        }      \r\n    }\r\n\r\n    switchScenes = (currentScene: THREE.Scene, nextScene: THREE.Scene) => {\r\n        currentScene.visible = false;\r\n        nextScene.visible = true;\r\n    }\r\n}","import * as THREE from 'three';\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\r\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass.js';\r\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass.js';\r\n\r\nconst vertexShader = `\r\n    varying vec2 vUv;\r\n    void main() {\r\n        vUv = uv;\r\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n    }\r\n`;\r\n\r\nconst fragmentShader = `\r\n    uniform sampler2D baseTexture;\r\n    uniform sampler2D bloomTexture;\r\n    varying vec2 vUv;\r\n    void main() {\r\n        gl_FragColor = (texture2D(baseTexture, vUv) + vec4(1.0) * texture2D(bloomTexture, vUv));\r\n    }\r\n`;\r\n\r\nconst bloomLayer = new THREE.Layers();\r\nbloomLayer.set(1);\r\n\r\nconst darkMaterial = new THREE.MeshBasicMaterial({ color: 'black' });\r\nconst materials: {[key: string]: THREE.Material | THREE.Material[]} = {};\r\n\r\nconst postprocessing = (\r\n    scene: THREE.Scene,\r\n    camera: THREE.PerspectiveCamera,\r\n    renderer: THREE.WebGLRenderer,\r\n    bloomParams?: {\r\n        strength?: number,\r\n        radius?: number,\r\n        threshold?: number,\r\n    },\r\n) => {\r\n    const params = {\r\n        exposure: 1,\r\n        strength: 1.25,\r\n        threshold: 0,\r\n        radius: 0.1,\r\n        ...bloomParams,\r\n    };\r\n    const renderScene = new RenderPass(scene, camera);\r\n    const bloomPass = new UnrealBloomPass(\r\n        new THREE.Vector2(window.innerWidth, window.innerHeight),\r\n        params.strength,\r\n        params.radius,\r\n        params.threshold,\r\n    );\r\n\r\n    const bloomComposer = new EffectComposer(renderer);\r\n    bloomComposer.renderToScreen = false;\r\n    bloomComposer.addPass(renderScene);\r\n    bloomComposer.addPass(bloomPass);\r\n\r\n    const finalPass = new ShaderPass(\r\n        new THREE.ShaderMaterial({\r\n            uniforms: {\r\n                baseTexture: { value: null },\r\n                bloomTexture: { value: bloomComposer.renderTarget2.texture }\r\n            },\r\n            vertexShader,\r\n            fragmentShader,\r\n            defines: {}\r\n        }), 'baseTexture',\r\n    );\r\n    finalPass.needsSwap = true;\r\n\r\n    const finalComposer = new EffectComposer(renderer);\r\n    finalComposer.addPass(renderScene);\r\n    finalComposer.addPass(finalPass);\r\n\r\n    const darkenNonBloomed = (obj: THREE.Object3D) => {\r\n        const o = obj as THREE.Mesh;\r\n        if (o.isMesh && bloomLayer.test(o.layers) === false) {\r\n            materials[o.uuid] = o.material;\r\n            o.material = darkMaterial;\r\n        }\r\n    };\r\n\r\n    const restoreMaterial = (obj: THREE.Object3D) => {\r\n        if (obj.type === 'Scene') {\r\n            obj.layers.mask = 0;\r\n        }\r\n        const o = obj as THREE.Mesh;\r\n        if (materials[o.uuid]) {\r\n            o.material = materials[o.uuid];\r\n            delete materials[o.uuid];\r\n        }\r\n    };\r\n\r\n    const renderBloom = () => {\r\n        scene.traverse(darkenNonBloomed);\r\n        bloomComposer.render();\r\n        scene.traverse(restoreMaterial);\r\n    };\r\n\r\n    const resizeRenderer = () => {\r\n        const canvas = renderer.domElement;\r\n        const pixelRatio = window.devicePixelRatio;\r\n        const width = canvas.clientWidth * pixelRatio | 0;\r\n        const height = canvas.clientHeight * pixelRatio | 0;\r\n        if (canvas.width !== width || canvas.height !== height) {\r\n          renderer.setSize(width, height, false);\r\n          bloomComposer.setSize(width, height);\r\n          finalComposer.setSize(width, height);\r\n        }\r\n    };\r\n    requestAnimationFrame(resizeRenderer);\r\n\r\n    return {\r\n        finalComposer,\r\n        renderBloom,\r\n    };\r\n};\r\n\r\nexport default postprocessing;\r\n","import * as THREE from 'three';\r\nimport { RenderingManager, CameraManager } from './components';\r\nimport Stats from 'stats-js';\r\nimport postprocessing from './postprocessing';\r\nimport * as dat from 'dat.gui';\r\n\r\nconst stats = new Stats();\r\ndocument.body.appendChild(stats.dom);\r\n// const gui = new dat.GUI();\r\n\r\nexport const init = (setCameraDOM: (name: string) => void) => {\r\n    const canvas: HTMLCanvasElement = document.querySelector('canvas.webgl')!;\r\n    const renderer = new THREE.WebGLRenderer({\r\n        canvas,\r\n        antialias: true,\r\n    });\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n    renderer.outputEncoding = THREE.sRGBEncoding;\r\n    renderer.toneMapping = THREE.ReinhardToneMapping;\r\n\r\n    // Scene and camera manager\r\n    const cameraManager = new CameraManager(renderer);\r\n    const {\r\n        scene,\r\n        setSceneWebGL,\r\n        setCameraWebGL,\r\n    } = new RenderingManager(renderer, cameraManager, setCameraDOM);\r\n\r\n    // Rendering\r\n    const rendering = postprocessing(scene, cameraManager.camera, renderer);   \r\n    const renderLoop = (time: number) => {\r\n        requestAnimationFrame(renderLoop);\r\n        time *= 0.001;\r\n\t\tstats.update();\r\n\r\n        rendering.renderBloom();\r\n        rendering.finalComposer.render();\r\n    };\r\n    requestAnimationFrame(renderLoop);\r\n\r\n    return {\r\n        setSceneWebGL,\r\n        setCameraWebGL,\r\n    };\r\n};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { useState, useEffect, useRef } from 'preact/hooks';\r\n\r\nimport Header from './Header';\r\nimport Explore from './Explore';\r\nimport Loader from './Loader';\r\nimport NoWebGL from './NoWebGL';\r\nimport { init } from '../3D'\r\nimport './index.scss';\r\n\r\nexport type Config = {[key: string]: {\r\n    name: string,\r\n    header: string,\r\n    desc: string,\r\n    sub: {[key: string]: {\r\n        name: string,\r\n        desc: string,\r\n    }},\r\n}};\r\n\r\nconst titleMap: Config = {\r\n    desktop: {\r\n        name: 'My dev lair',\r\n        header: 'my dev lair',\r\n        desc: `\r\n            Hello! This is just a little personal page. Feel free to tap and click around.\r\n        `,\r\n        sub: {\r\n            screen: {\r\n                name: 'Screen',\r\n                desc: 'screen',\r\n            },\r\n        },\r\n    },\r\n    drillrig: {\r\n        name: 'Some day i will finish this page...',\r\n        header: 'Work in progress',\r\n        desc: `\r\n            Some day i will finish this page...\r\n        `,\r\n        sub: {},\r\n    },\r\n    // drillrig: {\r\n    //     name: 'Before software development!',\r\n    //     header: 'Drilling',\r\n    //     desc: `\r\n    //         Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet consectetur adipiscing. Dui ut ornare lectus sit amet est placerat in. Euismod in pellentesque massa placerat duis. Amet mauris commodo quis imperdiet. Commodo nulla facilisi nullam vehicula ipsum. Velit ut tortor pretium viverra suspendisse. Mi tempus imperdiet nulla malesuada pellentesque. A diam maecenas sed enim ut sem viverra aliquet. Nunc mi ipsum faucibus vitae aliquet nec. Vulputate odio ut enim blandit. Dui faucibus in ornare quam. Ornare aenean euismod elementum nisi quis eleifend quam adipiscing.\r\n    //     `,\r\n    // },\r\n    // saturn: {\r\n    //     name: 'SATURN / SPPR projects',\r\n    //     header: 'SATURN',\r\n    //     desc: `\r\n    //         Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet consectetur adipiscing. Dui ut ornare lectus sit amet est placerat in. Euismod in pellentesque massa placerat duis. Amet mauris commodo quis imperdiet. Commodo nulla facilisi nullam vehicula ipsum. Velit ut tortor pretium viverra suspendisse. Mi tempus imperdiet nulla malesuada pellentesque. A diam maecenas sed enim ut sem viverra aliquet. Nunc mi ipsum faucibus vitae aliquet nec. Vulputate odio ut enim blandit. Dui faucibus in ornare quam. Ornare aenean euismod elementum nisi quis eleifend quam adipiscing.\r\n    //     `,\r\n    // },\r\n    // now: {\r\n    //     name: 'Now',\r\n    //     header: 'Now',\r\n    //     desc: `\r\n    //         Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet consectetur adipiscing. Dui ut ornare lectus sit amet est placerat in. Euismod in pellentesque massa placerat duis. Amet mauris commodo quis imperdiet. Commodo nulla facilisi nullam vehicula ipsum. Velit ut tortor pretium viverra suspendisse. Mi tempus imperdiet nulla malesuada pellentesque. A diam maecenas sed enim ut sem viverra aliquet. Nunc mi ipsum faucibus vitae aliquet nec. Vulputate odio ut enim blandit. Dui faucibus in ornare quam. Ornare aenean euismod elementum nisi quis eleifend quam adipiscing.\r\n    //     `,\r\n    // },\r\n};\r\n\r\nexport const GUI = ()  => {\r\n    const handlersRef = useRef<any>(null);\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [currentScene, setCurrentScene] = useState('desktop');\r\n    const [webGLAvailible, setWebGLAvailible] = useState(true);\r\n    const handleChangeScene = (key: string) => {\r\n        if (key && currentScene !== key) {\r\n            setCurrentScene(key);\r\n            setCameraDOM('base');\r\n        }\r\n    };\r\n\r\n    const [currentCamera, setCameraDOM] = useState('base');\r\n    const handleChangeCamera = (key: string) => {\r\n        if (key && currentCamera !== key) {\r\n            setCameraDOM(key);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const canvas: HTMLCanvasElement = document.querySelector('canvas.webgl')!;\r\n        const context = canvas.getContext(\"webgl\");\r\n        if (!window.WebGLRenderingContext) {\r\n            setWebGLAvailible(false);\r\n            setLoaded(true);\r\n        } else if (!context) {\r\n            setWebGLAvailible(false);\r\n            setLoaded(true);\r\n        } else {\r\n            handlersRef.current = init(setCameraDOM);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (handlersRef.current) {\r\n            const { setSceneWebGL } = handlersRef.current;\r\n            setSceneWebGL(currentScene);\r\n        }        \r\n    }, [handlersRef.current, currentScene]);\r\n\r\n    useEffect(() => {\r\n        if (handlersRef.current) {\r\n            const { setCameraWebGL } = handlersRef.current;\r\n            setCameraWebGL(currentCamera);\r\n        }        \r\n    }, [handlersRef.current, currentCamera]);\r\n\r\n    return (\r\n        <>\r\n            {loaded && (\r\n                <>\r\n                    <Header header={titleMap[currentScene].header} />\r\n                    <Explore\r\n                        currentScene={currentScene}\r\n                        currentCamera={currentCamera}\r\n                        onChangeScene={handleChangeScene}\r\n                        onChangeCamera={handleChangeCamera}\r\n                        titleMap={titleMap}\r\n                    />\r\n                </>\r\n            )}\r\n            {webGLAvailible\r\n                ? (\r\n                    <>    \r\n                        <canvas className=\"webgl\" tabIndex={1} />\r\n                        <Loader onLoad={() => setLoaded(true)} />\r\n                    </>\r\n                )\r\n                : <NoWebGL />\r\n            }\r\n        </>\r\n    );\r\n};","import { render } from 'preact';\nimport { GUI } from './GUI';\n\nrender(<GUI />, document.querySelector('#preactRoot')!)","module.exports = \"// Reference: \\r\\n// https://www.shadertoy.com/view/tltXWM\\r\\n\\r\\nvarying vec3 vPosition;\\r\\nvarying vec3 vNormal;\\r\\n\\r\\nuniform mat4 modelMatrix;\\r\\nuniform vec3 lightPosition;\\r\\nuniform vec3 lightDiffuseColor;\\r\\nuniform float lightIntensity;\\r\\nuniform int noiseOctaves;\\r\\nuniform float time;\\r\\n\\r\\n// -------- Venusian planet shader --------\\r\\n// simple sharpen filter\\r\\n// #define SHARPEN\\r\\n\\r\\n// Precision-adjusted variations of https://www.shadertoy.com/view/4djSRW\\r\\nfloat hash(float p) { p = fract(p * 0.011); p *= p + 7.5; p *= p + p; return fract(p); }\\r\\n\\r\\nfloat noise(vec3 x) {\\r\\n    const vec3 step = vec3(110, 241, 171);\\r\\n    vec3 i = floor(x);\\r\\n    vec3 f = fract(x);\\r\\n    float n = dot(i, step);\\r\\n    vec3 u = f * f * (3.0 - 2.0 * f);\\r\\n    return mix(mix(mix( hash(n + dot(step, vec3(0, 0, 0))), hash(n + dot(step, vec3(1, 0, 0))), u.x),\\r\\n                   mix( hash(n + dot(step, vec3(0, 1, 0))), hash(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\\r\\n               mix(mix( hash(n + dot(step, vec3(0, 0, 1))), hash(n + dot(step, vec3(1, 0, 1))), u.x),\\r\\n                   mix( hash(n + dot(step, vec3(0, 1, 1))), hash(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\\r\\n}\\r\\n\\r\\nfloat fbm(vec3 x) {\\r\\n\\tfloat v = 0.0;\\r\\n\\tfloat a = 0.5;\\r\\n\\tvec3 shift = vec3(0);\\r\\n\\tfor (int i = 0; i < noiseOctaves; ++i) {\\r\\n\\t\\tv += a * noise(x);\\r\\n\\t\\tx = x * 2.0 + shift;\\r\\n\\t\\ta *= 0.5;\\r\\n\\t}\\r\\n\\treturn v;\\r\\n}\\r\\n\\r\\nconst float pi = 3.1415926535;\\r\\nfloat square(float x) { return x * x; }\\r\\n\\r\\n// returns max of a single vec3\\r\\nfloat max3 (vec3 v) {\\r\\n  return max (max (v.x, v.y), v.z);\\r\\n}\\r\\n\\r\\nvec3 getColorForCoord(vec3 coord) {\\r\\n    // (intermediate) results of fbm\\r\\n    vec3 q = vec3(0.0);\\r\\n    vec3 r = vec3(0.0);\\r\\n\\tfloat v = 0.0;\\r\\n    vec3 color = vec3(0.0);\\r\\n\\r\\n    // calculate fbm noise (3 steps) \\r\\n    // Remove time component for static layer\\r\\n    q = vec3(fbm(coord + 0.025*time), fbm(coord), fbm(coord));\\r\\n    r = vec3(fbm(coord + 1.0*q + 0.01*time), fbm(coord + q), fbm(coord + q));\\r\\n    v = fbm(coord + 5.0*r + time*0.005);\\r\\n    \\r\\n    // convert noise value into color\\r\\n    // three colors: top - mid - bottom (mid being constructed by three colors)\\r\\n    // Brown colors\\r\\n    // vec3 col_top = vec3(1.0, 1.0, 1.0);\\r\\n    // vec3 col_bot = vec3(0.0, 0.0, 0.0);\\r\\n    // vec3 col_mid1 = vec3(0.1, 0.2, 0.0);\\r\\n    // vec3 col_mid2 = vec3(0.7, 0.4, 0.3);\\r\\n    // vec3 col_mid3 = vec3(1.0, 0.4, 0.2);\\r\\n\\r\\n    // Blue colors\\r\\n    vec3 col_top = vec3(0.0, 0.5, 0.0);\\r\\n    vec3 col_bot = vec3(0.0, 1.0, 1.0);\\r\\n    vec3 col_mid1 = vec3(0.0, 1.0, 0.0);\\r\\n    vec3 col_mid2 = vec3(0.0, 0.0, 1.0);\\r\\n    vec3 col_mid3 = vec3(0.0, 0.0, 1.0);\\r\\n\\r\\n    // mix mid color based on intermediate results\\r\\n    vec3 col_mid = mix(col_mid1, col_mid2, clamp(r, 0.0, 1.0));\\r\\n    col_mid = mix(col_mid, col_mid3, clamp(q, 0.0, 1.0));\\r\\n    col_mid = col_mid;\\r\\n\\r\\n    // calculate pos (scaling betwen top and bot color) from v\\r\\n    float pos = v * 2.0 - 1.0;\\r\\n    color = mix(col_mid, col_top, clamp(pos, 0.0, 1.0));\\r\\n    color = mix(color, col_bot, clamp(-pos, 0.0, 1.0));\\r\\n\\r\\n    // clamp color to scale the highest r/g/b to 1.0\\r\\n    color = color / max3(color);\\r\\n      \\r\\n    // create output color, increase light > 0.5 (and add a bit to dark areas)\\r\\n    color = (clamp((0.4 * pow(v,3.) + pow(v,2.) + 0.5*v), 0.0, 1.0) * 0.9 + 0.1) * color;\\r\\n    \\r\\n    return color;\\r\\n}\\r\\n\\r\\nvoid main(void) {    \\r\\n    #ifdef SHARPEN \\r\\n        // use a simple sharpen filter (you could improve that immensely!\\r\\n        vec3 color =\\r\\n            getColorForCoord(vNormal) * 3. -\\r\\n            getColorForCoord(vNormal + vec2(1.0, 0.0)) * 0.5 -\\r\\n            getColorForCoord(vNormal + vec2(0.0, 1.0)) * 0.5 -\\r\\n            getColorForCoord(vNormal - vec2(1.0, 0.0)) * 0.5 -\\r\\n            getColorForCoord(vNormal - vec2(0.0, 1.0)) * 0.5;\\r\\n    #else\\r\\n        // just use a single pass\\r\\n        vec3 color = getColorForCoord(vNormal);\\r\\n    #endif\\r\\n\\r\\n    // World values\\r\\n    vec3 vPositionW = vec3(modelMatrix * vec4(vPosition, 1.0));\\r\\n    vec3 vNormalW = normalize(vec3(modelMatrix * vec4(vNormal, 0.0)));\\r\\n    vec3 viewDirectionW = normalize(cameraPosition - vPositionW);\\r\\n\\r\\n    // Light\\r\\n    vec3 lightVectorW = normalize(lightPosition - vPositionW);\\r\\n\\r\\n    // diffuse\\r\\n    float ndl = max(0.0, dot(vNormalW, lightVectorW));\\r\\n\\tvec3 diffuse = vec3(color * ndl);\\r\\n\\r\\n    // Specular\\r\\n    // vec3 angleW = normalize(viewDirectionW + lightVectorW);\\r\\n    // float specComp = max(0.0, dot(vNormalW, angleW));\\r\\n    // specComp = pow(specComp, max(1.0, 24.0)) * 2.0;\\r\\n\\r\\n\\t// gl_FragColor = vec4(diffuse + vec3(specComp), 1.0);\\r\\n\\r\\n    gl_FragColor = vec4(diffuse.rgb, 1.0);\\r\\n}\\r\\n\"","module.exports = \"varying vec3 vNormal;\\r\\nvarying vec3 vPosition;\\r\\n\\r\\nvoid main(void) {\\r\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\r\\n\\r\\n    vPosition = position;\\r\\n    vNormal = normal;\\r\\n}\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\t__webpack_require__.O();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkleonidgrr_github_io\"] = self[\"webpackChunkleonidgrr_github_io\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [756], () => (__webpack_require__(8780)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}