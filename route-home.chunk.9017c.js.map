{"version":3,"sources":["webpack:///./components/Explore/Explore.module.css","webpack:///./routes/home/index.tsx","webpack:///./components/Header/index.tsx","webpack:///./components/Header/Header.module.css","webpack:///./components/Explore/index.tsx"],"names":["titleMap","name","header","desc","sub","screen","Home","useContext","Context3D","currentCamera","changeCamera","loader","onChangeCamera","Header","props","className","css","Explore","useState","showContent","setShowContent","showDescription","setShowDescription","contentRef","useRef","handleCamera","e","stopPropagation","key","currentTarget","dataset","current","offsetWidth","document","body","clientWidth","useEffect","handleHideDescription","useCallback","explore","type","onClick","prev","ref","classNames","content","contentShow","scenes","Object","keys","map","onPointerDown","links","href","description","descriptionShow"],"mappings":"yFACe,KAAC,QAAU,iBAAiB,kBAAoB,2BAA2B,oBAAoB,2BAA2B,gBAAkB,yBAAyB,QAAU,iBAAiB,YAAc,qBAAqB,OAAS,gBAAgB,YAAc,qBAAqB,gBAAkB,2B,kCCChU,yEAaMA,EAAmB,CACrBC,KAAM,cACNC,OAAQ,cACXC,KAAM,kKACHC,IAAK,CACDC,OAAQ,gEAoBDC,UAhBgC,WAC9C,MAAgDC,YAAWC,KAAnDC,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,aAAcC,EAArC,EAAqCA,OAErC,OACC,SACC,EAAC,IAAD,CAAQT,OAAQF,EAASE,SACzB,EAAC,IAAD,CACCO,cAAeA,EACfG,eAAgBF,EAChBV,SAAUA,IAEVW,K,8ECnCJ,4BAeeE,IATA,SAACC,GAEZ,OACI,YAAQC,UAAWC,IAAId,QACnB,YAHWY,EAAXZ,Y,wDCNG,KAAC,OAAS,gBAAgB,kBAAoB,2BAA2B,gBAAkB,2B,kjCCoG3Fe,IArFC,SAACH,GACb,IACIF,EAGAE,EAHAF,eACAH,EAEAK,EAFAL,cACAT,EACAc,EADAd,SAEJ,IAAsCkB,aAAS,GAA/C,GAAOC,EAAP,KAAoBC,EAApB,KACA,IAA8CF,YAAwB,MAAtE,GAAOG,EAAP,KAAwBC,EAAxB,KAEMC,EAAaC,YAA8B,MAQ3CC,EAAe,SAACC,GAClBA,EAAEC,kBACF,IAAQC,EAAQF,EAAEG,cAAcC,QAAxBF,IACJA,GAAOnB,IAAkBmB,IACzBhB,EAAegB,GAVfL,EAAWQ,SACJR,EAAWQ,QAAQC,aAAeC,SAASC,KAAKC,YAAc,GAWjEf,GAAe,KAU3BgB,aAAU,WACNd,EAAmBtB,EAASI,IAAIK,IAAkBT,EAASG,QAC5D,CAACM,IAEJ,IAAM4B,EAAwBC,aAAY,WACtChB,EAAmB,QACpB,IAEH,OACI,SACI,SACI,aAAW,eACXP,UAAWC,IAAIuB,SAEf,SAAKxB,UAAWC,IAAI,uBACpB,YAAQwB,KAAK,SAASC,QApBR,SAACf,GACvBA,EAAEC,kBACFP,GAAe,SAAAsB,GAAI,OAAKA,OAkBhB,iBAIJ,SACI,aAAW,mBACXC,IAAKpB,EACLR,UAAW6B,IAAW5B,IAAI6B,QAAS1B,GAAeH,IAAI8B,cAEtD,QAAI/B,UAAWC,IAAI+B,QACdC,OAAOC,KAAKjD,EAASI,KAAK8C,KAAI,SAACtB,GAAD,OAC3B,QAAIA,IAAKA,GACL,YACI,WAAUA,EACVY,KAAK,SACLW,cAAe1B,GAEdG,OAIb,QAAIb,UAAWC,IAAIoC,OACf,OAAGC,KAAK,oDAAR,aAMZ,SAAKtC,UAAW6B,IAAW5B,IAAIsC,YAAajC,GAAmBL,IAAIuC,iBAAkBd,QAASJ,GAC1F,UAAM,aAAW,eACZhB,Q","file":"route-home.chunk.9017c.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"explore\":\"explore__sC0To\",\"opacity_animation\":\"opacity_animation__cfcuz\",\"explore-separator\":\"explore-separator__YKfQ6\",\"width_animation\":\"width_animation__HFgqT\",\"content\":\"content__riTMf\",\"description\":\"description__rbxxy\",\"scenes\":\"scenes__zIShF\",\"contentShow\":\"contentShow__ddXxi\",\"descriptionShow\":\"descriptionShow__28FTC\"};","import { FunctionComponent } from 'preact';\nimport { RoutableProps, route } from 'preact-router';\nimport { useContext, useEffect } from 'preact/hooks';\nimport { Context3D } from '../../components/Context3D';\nimport Explore from '../../components/Explore';\nimport Header from '../../components/Header';\nimport Loader from '../../components/Loader';\n\nexport type Config = {\n    name: string,\n    header: string,\n    desc: string,\n    sub: Record<string, string>,\n};\n\nconst titleMap: Config = {\n    name: 'My dev lair',\n    header: 'my dev lair',\n\tdesc: `Hello! My name is Leonid. I am just humble programmer trying to learn something in a spare time.\\n This is little demo page. Feel free to tap and click around.`,\n    sub: {\n        screen: 'For now this is just an example of THREEJS render target...',\n    },\n};\n\nconst Home: FunctionComponent<RoutableProps> = () => {\n\tconst { currentCamera, changeCamera, loader } = useContext(Context3D);\n\n\treturn (\n\t\t<>\n\t\t\t<Header header={titleMap.header} />\n\t\t\t<Explore\n\t\t\t\tcurrentCamera={currentCamera}\n\t\t\t\tonChangeCamera={changeCamera}\n\t\t\t\ttitleMap={titleMap}\n\t\t\t/>\n\t\t\t{loader}\n\t\t</>\n\t);\n};\n\nexport default Home;\n","import css from './Header.module.css';\n\ntype HeaderProps = {\n    header: string,\n};\n\nconst Header = (props: HeaderProps) => {\n    const { header } = props;\n    return (\n        <header className={css.header}>\n            <h1>{header}</h1>\n        </header>\n    );\n};\n\nexport default Header;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header__pBWgD\",\"opacity_animation\":\"opacity_animation__piEyb\",\"width_animation\":\"width_animation__rwi1z\"};","import {\n    useState,\n    useEffect,\n    useRef,\n    useCallback,\n} from 'preact/hooks';\nimport classNames from 'classnames';\nimport css from './Explore.module.css';\nimport { Config } from 'src/routes/home';\n\ntype ExplorePanelProps = {\n    onChangeCamera: (key: string) => void,\n    currentCamera: string,\n    titleMap: Config,\n}\n\nconst Explore = (props: ExplorePanelProps) => {\n    const {\n        onChangeCamera,\n        currentCamera,\n        titleMap,\n    } = props;\n    const [showContent, setShowContent] = useState(false);\n    const [showDescription, setShowDescription] = useState<string | null>(null);\n\n    const contentRef = useRef<null | HTMLDivElement>(null);\n    const isSmallScreen = () => {\n        if (contentRef.current) {\n            return contentRef.current.offsetWidth >= document.body.clientWidth / 2;\n        }\n        return false;\n    };\n\n    const handleCamera = (e: any) => {\n        e.stopPropagation();\n        const { key } = e.currentTarget.dataset;\n        if (key && currentCamera !== key) {\n            onChangeCamera(key);\n            if (isSmallScreen()) {\n                setShowContent(false);\n            }\n        }\n    };\n\n    const handleShowContent = (e: any) => {\n        e.stopPropagation();\n        setShowContent(prev => !prev);\n    };\n\n    useEffect(() => {\n        setShowDescription(titleMap.sub[currentCamera] || titleMap.desc);\n    }, [currentCamera]);\n\n    const handleHideDescription = useCallback(() => {\n        setShowDescription(null);\n    }, []);\n\n    return (\n        <>\n            <div\n                aria-label=\"Explore more\"\n                className={css.explore}\n            >\n                <div className={css['explore-separator']} />\n                <button type=\"button\" onClick={handleShowContent}>\n                    Explore more\n                </button>\n            </div>\n            <div\n                aria-label=\"Table of content\"\n                ref={contentRef}\n                className={classNames(css.content, showContent && css.contentShow)}\n            >\n                <ul className={css.scenes}>\n                    {Object.keys(titleMap.sub).map((key: string) => (\n                        <li key={key}>\n                            <button\n                                data-key={key}\n                                type=\"button\"\n                                onPointerDown={handleCamera}\n                            >\n                                {key}\n                            </button>\n                        </li>\n                    ))}\n                    <li className={css.links}>\n                        <a href=\"https://github.com/LeonidGrr/leonidgrr.github.io\">\n                            GitHub\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <div className={classNames(css.description, showDescription && css.descriptionShow)} onClick={handleHideDescription}> \n                <span aria-label=\"Description\" >\n                    {showDescription}\n                </span>\n            </div>\n        </>\n    );\n};\n\nexport default Explore;"],"sourceRoot":""}